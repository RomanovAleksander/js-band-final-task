{"version":3,"sources":["components/Header/Header.js","components/BookListItem/BookListItem.js","services/StoreService.js","components/Spinner/Spinner.js","components/BookList/BookList.js","actions/index.js","components/Filter/Filter.js","pages/HomePage.js","components/Cart/Cart.js","pages/CartPage.js","components/BookDetails/BookDetails.js","components/ErrorBoundry/ErrorBoundry.js","reducers/bookDetails.js","reducers/bookList.js","reducers/index.js","store.js","index.js","components/App/App.js"],"names":["Header","userName","className","to","src","alt","BookListItem","book","onView","title","author","price","cover","onClick","_url","url","option","fetch","this","res","ok","Error","json","console","log","token","fetchData","mode","headers","Authorization","body","method","JSON","stringify","Spinner","BookList","books","map","key","id","BookListContainer","props","booksLoaded","booksRequested","StoreService","post","then","data","get","items","searchText","filter","item","toLowerCase","indexOf","loading","filterPrice","visibleBooks","filterByPrice","search","React","Component","mapDispatchToProps","newBooks","type","payload","connect","state","bookList","Filter","onSearchChange","target","searchBooks","value","handleFilterChange","filterBooks","placeholder","onChange","withRouter","history","bookId","push","bookDetails","cartItems","total","orderTotal","onPurchase","count","totalPrice","CartPage","BookDetailsContainer","onCountChange","setState","booksCount","parseFloat","onSubmit","e","preventDefault","bookAddedToCart","bookLoaded","bookRequested","maxCount","minCount","level","tags","description","max","min","defaultValue","newBook","ErrorBoundry","hasError","children","initialState","updateCartItems","idx","slice","updateCartItem","reducer","combineReducers","action","itemIndex","findIndex","newItem","store","createStore","composeWithDevTools","ReactDOM","render","path","component","HomePage","exact","match","params","BookDetails","document","getElementById"],"mappings":"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","file":"static/js/main.16731870.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './header.css';\n\nexport const Header = ({userName}) => {\n  return (\n    <header className=\"shop-header row\">\n      <Link to=\"/books\">\n        <div className=\"logo\">JS BAND STORE / Oleksandr Romanov</div>\n      </Link>\n      <div className=\"shop-menu\">\n        <Link to=\"/cart\">\n          <i className=\"cart fa fa-shopping-cart\"/>\n        </Link>\n        <div className=\"menu-item\">\n          <button className=\"btn btn-primary\">Sign-Out</button>\n        </div>\n        <div className=\"menu-item row\">\n          <img src=\"https://api.adorable.io/avatars/100/abott@adorable.png\" alt=\"avatar\" className=\"rounded-circle\"/>\n          <div className=\"userName\">{userName}</div>\n        </div>\n      </div>\n    </header>\n  )\n};","import React from 'react';\nimport './bookListItem.css';\n\n\nexport const BookListItem = ({book, onView}) => {\n  const { title, author, price, cover } = book;\n  return (\n    <div className=\"book-list-item\">\n      <img src={cover} alt=\"cover\" className=\"cart-img-top\"/>\n      <div className=\"book-details\">\n        <div className=\"book-title\">{title}</div>\n        <div className=\"book-author\">{author}</div>\n      </div>\n      <div className=\"book-footer\">\n        <div className=\"book-price\">{price} $</div>\n        <button\n          onClick={onView}\n          className=\"btn btn-primary\"\n        >\n          View\n        </button>\n      </div>\n    </div>\n  )\n};\n","class StoreService {\n  _url = 'https://js-band-api.glitch.me';\n\n  async fetchData(url, option) {\n    try {\n      const res = await fetch(`${this._url}${url}`, option);\n      if (!res.ok) {\n        throw new Error('Invalid request');\n      }\n      return await res.json();\n    } catch (err) {\n      console.log('Error');\n    }\n  }\n\n  async get(url, token) {\n    return this.fetchData(url, {\n      mode: 'cors',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  }\n\n  post(url, body) {\n    return this.fetchData(url, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    });\n  }\n}\n\nexport default new StoreService();\n","import React from 'react';\nimport './spinner.css';\n\nexport const Spinner = () => {\n  return (\n    <div className=\"spinner\">\n      <div className=\"loadingio-spinner-double-ring-5gwf7wyqw2d\">\n        <div className=\"ldio-mrii3anle\">\n          <div> </div>\n          <div> </div>\n          <div>\n            <div> </div>\n          </div>\n          <div>\n            <div> </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { BookListItem } from '../BookListItem';\n\nimport StoreService from '../../services/StoreService';\nimport { booksLoaded, booksRequested } from '../../actions';\nimport { Spinner } from '../Spinner';\nimport './bookList.css';\n\nconst BookList = ({ books, onView }) => {\n  return (\n    <ul className=\"book-list\">\n      {\n        books.map((book) => {\n          return (\n            <li key={book.id}>\n              <BookListItem\n                book={book}\n                onView={() => onView(book.id)} />\n            </li>\n          )\n        })\n      }\n    </ul>\n  )\n};\n\nclass BookListContainer extends React.Component {\n  componentDidMount() {\n    const { booksLoaded, booksRequested } = this.props;\n\n    StoreService.post('/signin', { \"username\": \"testUser\" })\n      .then((data) => {\n        console.log(data);\n      });\n\n    booksRequested();\n    StoreService.get('/books', 'hxqw5gnlxowd20zzb11h')\n      .then((data) => booksLoaded(data));\n  }\n\n  search(items, searchText) {\n    if (searchText === 0) {\n      return items;\n    }\n    return items.filter(item => {\n      return item.title.toLowerCase().indexOf(searchText.toLowerCase()) > -1;\n    });\n  }\n\n  filterByPrice(items, price) {\n    switch (price) {\n      case 'all':\n        return items;\n      case '0-15':\n        return items.filter((item) => item.price >= 0 && item.price < 15);\n      case '15-30':\n        return items.filter((item) => item.price >= 15 && item.price <= 30);\n      case '>30':\n        return items.filter((item) => item.price > 30);\n      default:\n        return items;\n    }\n  }\n\n  render() {\n    const {books, loading, searchText, filterPrice, onView} = this.props;\n    const visibleBooks = this.filterByPrice(\n      this.search(books, searchText),\n      filterPrice\n    );\n\n    if (loading) {\n      return <Spinner/>\n    }\n\n    return <BookList\n        onView={onView}\n        books={visibleBooks}/>;\n\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    books: state.bookList.books,\n    searchText: state.bookList.searchText,\n    filterPrice: state.bookList.filterPrice,\n    loading: state.bookList.loading\n  }\n};\n\nconst mapDispatchToProps = {\n  booksLoaded,\n  booksRequested\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookListContainer);\n","const booksRequested = () => {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  }\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  }\n};\n\nconst bookRequested = () => {\n  return {\n    type: 'FETCH_BOOK_REQUEST'\n  }\n};\n\nconst bookLoaded = (newBook) => {\n  return {\n    type: 'FETCH_BOOK_SUCCESS',\n    payload: newBook\n  }\n};\n\nconst searchBooks = (searchText) => ({\n  type: 'SEARCH_BOOKS',\n  payload: {\n    searchText\n  }\n});\n\nconst filterBooks = (filterPrice) => ({\n  type: 'FILTER_BOOKS',\n  payload: {\n    filterPrice\n  }\n});\n\nconst bookAddedToCart = (bookId, count) => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: {\n      bookId,\n      count\n    }\n  }\n};\n\nexport {\n  booksLoaded,\n  booksRequested,\n  searchBooks,\n  bookLoaded,\n  bookRequested,\n  filterBooks,\n  bookAddedToCart\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { searchBooks, filterBooks } from \"../../actions\";\nimport './filter.css';\n\nclass Filter extends React.Component {\n  onSearchChange = ({ target }) => {\n    const { searchBooks } = this.props;\n    const searchText = target.value;\n\n    searchBooks(searchText);\n  };\n\n  handleFilterChange = ({ target }) => {\n    const { filterBooks } = this.props;\n    const filterPrice = target.value;\n\n    filterBooks(filterPrice);\n  };\n\n  render() {\n    const { searchText, filterPrice } = this.props;\n\n    return (\n      <div className=\"filter-wrapper\">\n        <input\n          type=\"search\"\n          className=\"form-control mr-sm-2\"\n          placeholder=\"search by title\"\n          onChange={this.onSearchChange}\n          value={searchText}\n        />\n        <select\n          className=\"select-status select\"\n          key=\"status\"\n          onChange={this.handleFilterChange}\n          value={filterPrice}\n        >\n          <option value=\"all\">Price</option>\n          <option value=\"0-15\">0-15</option>\n          <option value=\"15-30\">15-30</option>\n          <option value=\">30\">&gt;30</option>\n        </select>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  searchBooks,\n  filterBooks\n};\n\nconst mapStateToProps = state => ({\n  searchText: state.bookList.searchText,\n  filterPrice: state.bookList.filterPrice,\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Filter);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { BookList } from '../components/BookList';\nimport { Filter } from '../components/Filter';\n\nconst HomePage = ({ history }) => {\n  return (\n    <>\n      <Filter />\n      <BookList onView={(bookId) => {\n        history.push(`/books/${bookId}`);\n      }}/>\n    </>\n  );\n};\n\nexport default withRouter(HomePage);\n","import React  from 'react';\nimport { connect } from 'react-redux';\nimport './cart.css'\n\nconst Cart = ({ items, total, onPurchase }) => {\n  const renderRow = (item) => {\n    const { id, title, count, totalPrice } = item;\n    return (\n      <tr key={id}>\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>{totalPrice}</td>\n      </tr>\n    )\n  };\n\n  return (\n   <div className=\"cart-container\">\n      <button className=\"btn btn-secondary\"\n              onClick={onPurchase}>Purchase\n      </button>\n      <div className=\"table-wrapper\">\n        <table>\n          <thead>\n          <tr>\n            <th>Book title:</th>\n            <th>Count:</th>\n            <th>Total price:</th>\n          </tr>\n          </thead>\n          <tbody>\n          {items.map(renderRow)}\n          </tbody>\n        </table>\n      </div>\n      <div className=\"total\">Total price, $ {total}</div>\n    </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n  items: state.bookDetails.cartItems,\n  total: state.bookDetails.orderTotal,\n});\n\nconst mapDispatchToProps = () => {\n  return {\n    onPurchase: () => {\n      console.log('onPurchase');\n    }\n  }\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Cart);\n","import React  from 'react';\nimport { Cart } from '../components/Cart';\n\nexport const CartPage = () => {\n  return (\n    <Cart />\n  );\n};\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport StoreService from \"../../services/StoreService\";\nimport { Spinner } from \"../Spinner\";\nimport {\n  bookLoaded,\n  bookRequested,\n  bookAddedToCart\n} from \"../../actions\";\n\nimport './bookDetails.css';\n\n// const BookDetails = ({ book, onAddedToCart, count }) => {\n//   const { title, author, level, tags, cover, description, price } = book;\n//   return (\n//     <main className=\"container book-page\">\n//       <div className=\"book-details-wrapper\">\n//         <div className=\"main-details\">\n//           <img src={cover} alt=\"cover\" className=\"cart-img\"/>\n//           <div className=\"book-details\">\n//             <div className=\"book-title\"><b>Title: </b>{title}</div>\n//             <div className=\"book-author\"><b>Author: </b>{author}</div>\n//             <div className=\"book-level\"><b>Level: </b>{level}</div>\n//             <div className=\"book-tags\"><b>Tags: </b>{tags}</div>\n//           </div>\n//         </div>\n//         <div className=\"description\"><b>Description: </b>{description}</div>\n//       </div>\n//       <div className=\"price-wrapper\">\n//           <div className=\"price-counter\">\n//             <div className=\"price-item\"><b>Price, $</b><b>{price}</b></div>\n//             <div className=\"counter-wrapper\">\n//               <b>Count</b>\n//               <input type=\"number\"\n//                      className=\"counter form-control\"\n//                      value='1' />\n//             </div>\n//             <div className=\"price-item\"><b>Total price</b><b>{price}</b></div>\n//           </div>\n//           <button className=\"btn btn-primary add-to-cart\"\n//                   onClick={onAddedToCart}>Add to cart</button>\n//       </div>\n//     </main>\n//   )\n// };\n\nclass BookDetailsContainer extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      booksCount: 1\n    }\n  }\n\n  componentDidMount() {\n    const {\n      bookLoaded,\n      bookRequested,\n      bookId\n    } = this.props;\n\n    bookRequested();\n    StoreService.get(`/books/${bookId}`, 'hxqw5gnlxowd20zzb11h')\n      .then((data) => {\n        bookLoaded(data);\n      });\n  }\n\n  onCountChange = ({ target }) => {\n    this.setState({\n      booksCount: parseFloat(target.value)\n    });\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const {book, bookAddedToCart} = this.props;\n\n    bookAddedToCart(book.id, this.state.booksCount);\n  };\n\n  render() {\n    const {book, loading, maxCount, count, minCount} = this.props;\n\n    if (loading) {\n      return <Spinner />\n    }\n    // return (book && <BookDetails\n    //   book={book}\n    //   onAddedToCart={() => bookAddedToCart(book.id)}\n    // />);\n    if (book) {\n      const { title, author, level, tags, cover, description, price } = book;\n\n      return (\n        <main className=\"container book-page\">\n          <div className=\"book-details-wrapper\">\n            <div className=\"main-details\">\n              <img src={cover} alt=\"cover\" className=\"cart-img\"/>\n              <div className=\"book-details\">\n                <div className=\"book-title\"><b>Title: </b>{title}</div>\n                <div className=\"book-author\"><b>Author: </b>{author}</div>\n                <div className=\"book-level\"><b>Level: </b>{level}</div>\n                <div className=\"book-tags\"><b>Tags: </b>{tags}</div>\n              </div>\n            </div>\n            <div className=\"description\"><b>Description: </b>{description}</div>\n          </div>\n          <form className=\"price-wrapper\" onSubmit={this.onSubmit}>\n            <div className=\"price-counter\">\n              <div className=\"price-item\"><b>Price, $</b><b>{price}</b></div>\n              <div className=\"counter-wrapper\">\n                <b>Count</b>\n                <input type=\"number\"\n                       className=\"counter form-control\"\n                       onChange={this.onCountChange}\n                       max={maxCount}\n                       min={minCount}\n                       defaultValue={count} />\n              </div>\n              <div className=\"price-item\"><b>Total price</b><b>{price}</b></div>\n            </div>\n            <button className=\"btn btn-primary add-to-cart\"\n                    type=\"submit\">\n              Add to cart\n            </button>\n          </form>\n        </main>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    book: state.bookDetails.book,\n    count: state.bookDetails.count,\n    maxCount: state.bookDetails.maxCount,\n    minCount: state.bookDetails.minCount,\n    loading: state.bookDetails.loading\n  }\n};\n\nconst mapDispatchToProps = {\n  bookLoaded,\n  bookRequested,\n  bookAddedToCart\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookDetailsContainer);\n","import React from 'react';\n\nexport class ErrorBoundry extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      hasError: false\n    }\n  }\n\n  componentDidCatch() {\n    this.setState({ hasError: true })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <div>Error</div>\n    }\n\n    return this.props.children;\n  }\n}\n","const initialState = {\n  book: null,\n  bookId: null,\n  count: 1,\n  maxCount: 0,\n  minCount: 0,\n  cartItems: [],\n  orderTotal: 0,\n  loading: true\n};\n\nconst updateCartItems = (cartItems, item, idx) => {\n  if (idx === -1) {\n    return [\n      ...cartItems,\n      item\n    ]\n  }\n  return [\n    ...cartItems.slice(0, idx),\n    item,\n    ...cartItems.slice(idx + 1)\n  ]\n};\n\nconst updateCartItem = (book, item, count) => {\n  if (item) {\n    return {\n      ...item,\n      count: item.count + count,\n      totalPrice: item.totalPrice + book.price * count\n    }\n  } else {\n    return {\n      id: book.id,\n      count: count,\n      totalPrice: book.price * count,\n      title: book.title\n    };\n  }\n};\n\nexport const bookDetails = (state = initialState, action) => {\n  const {type, payload} = action;\n  switch (type) {\n    case 'FETCH_BOOK_REQUEST':\n      return {\n        ...state,\n        book: [],\n        loading: true\n      };\n    case 'FETCH_BOOK_SUCCESS':\n      return {\n        ...state,\n        book: payload,\n        maxCount: payload.count,\n        loading: false\n      };\n    case 'BOOK_ADDED_TO_CART':\n      const { book } = state;\n      const itemIndex = state.cartItems.findIndex((item) => item.id === payload.bookId);\n      const item = state.cartItems[itemIndex];\n      const newItem = updateCartItem(book, item, payload.count);\n\n      // const calcOrderPrice = state.cartItems.map((item) => {\n      //   let order = 0;\n      //   order += item.totalPrice;\n      //   return order;\n      // });\n\n      return {\n        ...state,\n        cartItems: updateCartItems(state.cartItems, newItem, itemIndex),\n        maxCount: state.maxCount - payload.count\n        // orderTotal: calcOrderPrice\n      };\n\n    default:\n      return state;\n  }\n};\n","const initialState = {\n  books: [],\n  searchText: '',\n  filterPrice: 'all',\n  loading: true\n};\n\nexport const bookList = (state = initialState, action) => {\n  const {type, payload} = action;\n  switch (type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        ...state,\n        books: [],\n        loading: true\n      };\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        ...state,\n        books: payload,\n        loading: false\n      };\n    case 'SEARCH_BOOKS':\n      return {\n        ...state,\n        searchText: payload.searchText\n      };\n    case 'FILTER_BOOKS':\n      return {\n        ...state,\n        filterPrice: payload.filterPrice\n      };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { bookDetails } from './bookDetails';\nimport { bookList } from './bookList';\n\n// const shoppingCart = (state = {\n//   cartItems: [],\n//   orderTotal: 0,\n// }, action) => {\n//   const {type, payload} = action;\n//   switch (type) {\n//     case 'BOOK_ADDED_TO_CART':\n//       console.log(state.bookList);\n//       const book = state.books.find((book) => book.id === payload.bookId);\n//       const itemIndex = state.cartItems.findIndex((item) => item.id === payload.bookId);\n//       const item = state.cartItems[itemIndex];\n//       const newItem = updateCartItem(book, item);\n//\n//       // const calcOrderPrice = state.cartItems.map((item) => {\n//       //   let order = 0;\n//       //   order += item.totalPrice;\n//       //   return order;\n//       // });\n//\n//       return {\n//         ...state,\n//         cartItems: updateCartItems(state.cartItems, newItem, itemIndex),\n//         // orderTotal: calcOrderPrice\n//       };\n//\n//     default:\n//       return state;\n//   }\n// };\n\n\n\nexport const reducer = combineReducers({\n  bookList,\n  // shoppingCart,\n  bookDetails\n});","import { createStore } from \"redux\";\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { reducer } from './reducers';\n\nexport const store = createStore(\n  reducer,\n  composeWithDevTools()\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from \"react-router-dom\";\n\nimport { App } from './components/App';\nimport { ErrorBoundry } from \"./components/ErrorBoundry\";\nimport { store } from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Header } from \"../Header\";\nimport { HomePage, CartPage } from \"../../pages\";\nimport { BookDetails } from \"../BookDetails\";\n\nimport './app.css';\n\nexport const App = () => {\n  return (\n    <div className=\"container\">\n      <Header userName={'Alex'} />\n        <Switch>\n          <Route path=\"/books\" component={HomePage} exact />\n          <Route path=\"/cart\" component={CartPage} />\n          <Route path=\"/books/:id\"\n                 render={({ match }) => {\n                   const { id } = match.params;\n                   if (id > 77) {\n                     return <div>Not Found</div>\n                   }\n                   return <BookDetails bookId={id}/>\n                 }} />\n        </Switch>\n    </div>\n  )\n};\n"],"sourceRoot":""}