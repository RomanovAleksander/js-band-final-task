{"version":3,"sources":["components/Header/Header.js","components/BookListItem/BookListItem.js","services/StoreService.js","components/Spinner/Spinner.js","components/BookList/BookList.js","actions/index.js","components/Filter/Filter.js","components/ScrollArrow/ScrollArrow.js","pages/HomePage.js","components/Cart/Cart.js","pages/CartPage.js","components/SignIn/SignIn.js","pages/SignInPage.js","components/BookDetails/BookDetails.js","components/ErrorBoundry/ErrorBoundry.js","reducers/bookDetails.js","reducers/bookList.js","reducers/authorization.js","reducers/index.js","store.js","index.js","components/App/App.js"],"names":["connect","state","booksInCart","bookDetails","username","userData","avatar","token","isAuthorized","authorized","className","to","src","alt","BookListItem","book","onView","title","author","price","cover","onClick","_url","url","option","fetch","this","res","ok","Error","json","fetchData","mode","headers","Authorization","body","method","JSON","stringify","Spinner","BookList","books","map","key","id","BookListContainer","props","booksLoaded","booksRequested","StoreService","get","then","data","catch","items","searchText","filter","item","toLowerCase","indexOf","loading","filterPrice","visibleBooks","filterByPrice","search","React","Component","mapDispatchToProps","newBooks","type","payload","bookList","Filter","onSearchChange","target","searchBooks","value","handleFilterChange","filterBooks","placeholder","onChange","ScrollArrow","trackScroll","scrolled","window","pageYOffset","coords","document","documentElement","clientHeight","setState","isScrolled","backToTop","scrollBy","setTimeout","addEventListener","removeEventListener","aria-hidden","withRouter","history","bookId","push","purchaseBooks","cartItems","total","orderTotal","isCartEmpty","empty","fill","count","totalPrice","post","console","log","disabled","CartPage","SignIn","onSubmit","e","preventDefault","usernameLoaded","minLength","maxLength","isValid","length","htmlFor","max","min","required","user","SignInPage","BookDetails","onCountChange","booksCount","parseFloat","bookAddedToCart","bookLoaded","bookRequested","maxCount","minCount","cartBookIndex","findIndex","cartBook","cartBookCount","level","tags","description","maxValue","isNaN","calcTotal","toFixed","isTotalNumber","newBook","ErrorBoundry","hasError","children","initialState","purchaseMessage","updateCartItems","idx","slice","updateCartItem","reducer","combineReducers","action","itemIndex","newItem","newTotal","newBooksInCart","store","createStore","composeWithDevTools","ReactDOM","render","from","exact","path","component","HomePage","match","params","getElementById"],"mappings":"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","file":"static/js/main.48fad575.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './header.css';\nimport { connect } from \"react-redux\";\n\nconst Header = ({ username, avatar, isAuthorized, booksInCart}) => {\n  const authorized = (\n    <div className=\"shop-menu\">\n      <Link to=\"/cart\">\n        <i className=\"cart fa fa-shopping-cart\"/>\n        <span className=\"cart-count\">{booksInCart}</span>\n      </Link>\n      <div className=\"menu-item\">\n        <button className=\"btn btn-primary\">Sign-Out</button>\n      </div>\n      <div className=\"menu-item row\">\n        <img src={avatar} alt=\"avatar\" className=\"rounded-circle\"/>\n        <div className=\"userName\">{username}</div>\n      </div>\n    </div>\n  );\n\n  return (\n    <header className=\"shop-header row\">\n      <Link to=\"/books\">\n        <div className=\"logo\">JS BAND STORE / Oleksandr Romanov</div>\n      </Link>\n      {isAuthorized ? authorized : null}\n    </header>\n  )\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    booksInCart: state.bookDetails.booksInCart,\n    username: state.userData.username,\n    avatar: state.userData.avatar,\n    token: state.userData.token,\n    isAuthorized: state.userData.isAuthorized\n  }\n};\n\nexport default connect(\n  mapStateToProps\n)(Header);\n","import React from 'react';\nimport './bookListItem.css';\n\n\nexport const BookListItem = ({book, onView}) => {\n  const { title, author, price, cover } = book;\n  return (\n    <div className=\"book-list-item\">\n      <img src={cover} alt=\"cover\" className=\"cart-img-top\"/>\n      <div className=\"book-details\">\n        <div className=\"book-title\">{title}</div>\n        <div className=\"book-author\">{author}</div>\n      </div>\n      <div className=\"book-footer\">\n        <div className=\"book-price\">{price} $</div>\n        <button\n          onClick={onView}\n          className=\"btn btn-primary\"\n        >\n          View\n        </button>\n      </div>\n    </div>\n  )\n};\n","class StoreService {\n  _url = 'https://js-band-api.glitch.me';\n\n  async fetchData(url, option) {\n    try {\n      const res = await fetch(`${this._url}${url}`, option);\n      if (!res.ok) {\n        throw new Error('Invalid request');\n      }\n      return await res.json();\n    } catch (err) {\n      return err\n    }\n  }\n\n  async get(url, token) {\n    return this.fetchData(url, {\n      mode: 'cors',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  }\n\n  post(url, body, token) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    if (token) {\n      headers.Authorization = `Bearer ${token}`;\n    }\n\n    return this.fetchData(url, {\n      method: 'POST',\n      mode: 'cors',\n      headers,\n      body: JSON.stringify(body)\n    });\n  }\n}\n\nexport default new StoreService();\n","import React from 'react';\nimport './spinner.css';\n\nexport const Spinner = () => {\n  return (\n    <div className=\"spinner\">\n      <div className=\"loadingio-spinner-double-ring-5gwf7wyqw2d\">\n        <div className=\"ldio-mrii3anle\">\n          <div> </div>\n          <div> </div>\n          <div>\n            <div> </div>\n          </div>\n          <div>\n            <div> </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { BookListItem } from '../BookListItem';\n\nimport StoreService from '../../services/StoreService';\nimport { booksLoaded, booksRequested } from '../../actions';\nimport { Spinner } from '../Spinner';\nimport './bookList.css';\n\nconst BookList = ({ books, onView }) => {\n  return (\n    <ul className=\"book-list\">\n      {\n        books.map((book) => {\n          return (\n            <li key={book.id}>\n              <BookListItem\n                book={book}\n                onView={() => onView(book.id)} />\n            </li>\n          )\n        })\n      }\n    </ul>\n  )\n};\n\nclass BookListContainer extends React.Component {\n  componentDidMount() {\n    const { booksLoaded, booksRequested, token } = this.props;\n\n    booksRequested();\n    StoreService.get('/books', token)\n      .then((data) => booksLoaded(data))\n      .catch(() => {\n\n      })\n  }\n\n  search(items, searchText) {\n    if (searchText === 0) {\n      return items;\n    }\n\n    return items.filter(item => {\n      return item.title.toLowerCase().indexOf(searchText.toLowerCase()) > -1;\n    });\n  }\n\n  filterByPrice(items, price) {\n    switch (price) {\n      case 'all':\n        return items;\n      case '0-15':\n        return items.filter((item) => item.price >= 0 && item.price < 15);\n      case '15-30':\n        return items.filter((item) => item.price >= 15 && item.price <= 30);\n      case '>30':\n        return items.filter((item) => item.price > 30);\n      default:\n        return items;\n    }\n  }\n\n  render() {\n    const {books, loading, searchText, filterPrice, onView, isAuthorized} = this.props;\n\n    if (loading) {\n      return <Spinner/>\n    }\n\n    if (!isAuthorized) {\n      return <div>Not Found</div>\n    }\n\n    if (books) {\n      const visibleBooks = this.filterByPrice(\n        this.search(books, searchText),\n        filterPrice\n      );\n\n      return <BookList\n        onView={onView}\n        books={visibleBooks}/>;\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    books: state.bookList.books,\n    searchText: state.bookList.searchText,\n    filterPrice: state.bookList.filterPrice,\n    token: state.userData.token,\n    isAuthorized: state.userData.isAuthorized,\n    loading: state.bookList.loading\n  }\n};\n\nconst mapDispatchToProps = {\n  booksLoaded,\n  booksRequested\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookListContainer);\n","const booksRequested = () => {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  }\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  }\n};\n\nconst bookRequested = () => {\n  return {\n    type: 'FETCH_BOOK_REQUEST'\n  }\n};\n\nconst bookLoaded = (newBook) => {\n  return {\n    type: 'FETCH_BOOK_SUCCESS',\n    payload: newBook\n  }\n};\n\nconst searchBooks = (searchText) => ({\n  type: 'SEARCH_BOOKS',\n  payload: {\n    searchText\n  }\n});\n\nconst filterBooks = (filterPrice) => ({\n  type: 'FILTER_BOOKS',\n  payload: {\n    filterPrice\n  }\n});\n\nconst bookAddedToCart = (bookId, count) => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: {\n      bookId,\n      count\n    }\n  }\n};\n\nconst purchaseBooks = () => {\n  return {\n    type: 'PURCHASE_SUCCESS'\n  }\n};\n\n// const usernameRequested = () => {\n//   return {\n//     type: 'FETCH_USER_REQUEST'\n//   }\n// };\n\nconst usernameLoaded = (user) => {\n  return {\n    type: 'FETCH_USER_SUCCESS',\n    payload: user\n  }\n};\n\nexport {\n  booksLoaded,\n  booksRequested,\n  searchBooks,\n  bookLoaded,\n  bookRequested,\n  filterBooks,\n  bookAddedToCart,\n  purchaseBooks,\n  usernameLoaded\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { searchBooks, filterBooks } from \"../../actions\";\nimport './filter.css';\n\nclass Filter extends React.Component {\n  onSearchChange = ({ target }) => {\n    const { searchBooks } = this.props;\n    const searchText = target.value;\n\n    searchBooks(searchText);\n  };\n\n  handleFilterChange = ({ target }) => {\n    const { filterBooks } = this.props;\n    const filterPrice = target.value;\n\n    filterBooks(filterPrice);\n  };\n\n  render() {\n    const { searchText, filterPrice } = this.props;\n\n    return (\n      <div className=\"filter-wrapper\">\n        <input\n          type=\"search\"\n          className=\"form-control\"\n          placeholder=\"search by title\"\n          onChange={this.onSearchChange}\n          value={searchText}\n        />\n        <select\n          className=\"select-status select\"\n          key=\"status\"\n          onChange={this.handleFilterChange}\n          value={filterPrice}\n        >\n          <option value=\"all\">Price</option>\n          <option value=\"0-15\">0-15</option>\n          <option value=\"15-30\">15-30</option>\n          <option value=\">30\">&gt;30</option>\n        </select>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  searchBooks,\n  filterBooks\n};\n\nconst mapStateToProps = state => ({\n  searchText: state.bookList.searchText,\n  filterPrice: state.bookList.filterPrice,\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Filter);\n","import React from 'react';\n\nimport './scrollArrow.css'\n\nexport class ScrollArrow extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isScrolled: false\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.trackScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.trackScroll);\n  }\n\n  trackScroll = () => {\n    const scrolled = window.pageYOffset;\n    const coords = document.documentElement.clientHeight;\n\n    if (scrolled > coords) {\n      this.setState({\n        isScrolled: true\n      });\n    }\n    if (scrolled < coords) {\n      this.setState({\n        isScrolled: false\n      });\n    }\n  };\n\n  backToTop = () => {\n    if (window.pageYOffset > 0) {\n      window.scrollBy(0, -100);\n      setTimeout(this.backToTop, 0);\n    }\n  };\n\n  render() {\n    const isScrolled = (this.state.isScrolled) ? 'show' : '';\n\n    return (\n      <div className={`back-top ${isScrolled}`}\n           title=\"Go top\"\n           onClick={this.backToTop}>\n        <i className=\"fa fa-arrow-circle-up\" aria-hidden=\"true\"> </i>\n      </div>\n\n    );\n  }\n}\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { BookList } from '../components/BookList';\nimport { Filter } from '../components/Filter';\nimport { ScrollArrow } from \"../components/ScrollArrow\";\n\nconst HomePage = ({ history }) => {\n  return (\n    <>\n      <Filter />\n      <BookList onView={(bookId) => {\n        history.push(`/books/${bookId}`);\n      }}/>\n      <ScrollArrow />\n    </>\n  );\n};\n\nexport default withRouter(HomePage);","import React  from 'react';\nimport { connect } from 'react-redux';\nimport './cart.css'\nimport StoreService from \"../../services/StoreService\";\nimport { purchaseBooks } from \"../../actions\";\n\nconst Cart = ({ items, total, purchaseBooks, isCartEmpty }) => {\n  const purchase = () => {\n    StoreService.post('/purchase', { \"books\": items }, '5686wvoxndcplla5xi8qte')\n      .then((data) => {\n        console.log(data);\n      })\n      .then(() => {\n        purchaseBooks()\n      })\n  };\n\n  const renderRow = (item) => {\n    const { id, title, count, totalPrice } = item;\n    return (\n      <tr key={id}>\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>{totalPrice}</td>\n      </tr>\n    )\n  };\n\n  const empty = (\n    <div className=\"container text-center\">\n      <i className={`cart fa fa-shopping-cart cartEmpty`} />\n      <p className=\"cartEmptyText\">Cart empty...</p>\n    </div>\n  );\n\n  const fill = (\n    <div className=\"table-wrapper\">\n      <table>\n        <thead>\n        <tr>\n          <th>Book title:</th>\n          <th>Count:</th>\n          <th>Total price:</th>\n        </tr>\n        </thead>\n        <tbody>\n        {items.map(renderRow)}\n        </tbody>\n      </table>\n      <div className=\"total\">Total price, $ {total}</div>\n    </div>\n  );\n\n  return (\n   <div className=\"cart-container\">\n      <button className=\"btn btn-primary\"\n              onClick={purchase}\n              disabled={isCartEmpty}>\n        Purchase\n      </button>\n     {isCartEmpty ? empty : fill}\n    </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n  items: state.bookDetails.cartItems,\n  total: state.bookDetails.orderTotal,\n  isCartEmpty: state.bookDetails.isCartEmpty,\n});\n\nconst mapDispatchToProps = {\n  purchaseBooks\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Cart);\n","import React  from 'react';\nimport { Cart } from '../components/Cart';\n\nexport const CartPage = () => {\n  return (\n    <Cart />\n  );\n};\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport './signIn.css';\nimport StoreService from \"../../services/StoreService\";\n\nimport { usernameLoaded } from '../../actions'\n\nclass SignIn extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      minLength: 4,\n      maxLength: 16,\n    }\n  }\n\n  onChange = ({ target }) => {\n    this.setState({\n      username: target.value\n    });\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { username } = this.state;\n\n    StoreService.post('/signin', { \"username\": username })\n      .then((data) => {\n        this.props.usernameLoaded(data);\n        console.log(data)\n      });\n  };\n\n  render() {\n    const { username, minLength,  maxLength} = this.state;\n    const isValid =  (username.length >= minLength && username.length <= maxLength) ? 'is-valid' : 'is-invalid';\n\n    return (\n      <div className=\"container d-flex justify-content-center\">\n        <form className=\"d-flex flex-column align-items-center\"\n              onSubmit={this.onSubmit}>\n          <img src=\"https://api.adorable.io/avatars/100/orange.png\" alt=\"avatar\" className=\"sign-in-avatar\"/>\n          <label className=\"d-flex flex-column align-items-center\" htmlFor=\"sign-in-input\">\n            <b>Username</b>\n            <div className=\"d-flex flex-column justify-content-start mt-2\">\n              <input type=\"text\"\n                     className={`form-control ${isValid}`}\n                     onChange={this.onChange}\n                     max={maxLength}\n                     min={minLength}\n                     value={username}\n                     placeholder=\"type Username\"\n                     id=\"sign-in-input\"\n                     required/>\n              <div className=\"invalid-feedback text-center\">Field is not valid!</div>\n            </div>\n          </label>\n          <button className=\"btn btn-primary sign-in w-100\"\n                  type=\"submit\">\n            Sign-In\n          </button>\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = {\n  usernameLoaded\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(SignIn);\n","import React  from 'react';\nimport { SignIn } from '../components/SignIn';\n\nexport const SignInPage = () => {\n  return (\n    <SignIn />\n  );\n};\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport StoreService from \"../../services/StoreService\";\nimport { Spinner } from \"../Spinner\";\nimport {\n  bookLoaded,\n  bookRequested,\n  bookAddedToCart\n} from \"../../actions\";\n\nimport './bookDetails.css';\n\nclass BookDetails extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      booksCount: 1\n    }\n  }\n\n  componentDidMount() {\n    const {\n      bookLoaded,\n      bookRequested,\n      bookId,\n      token\n    } = this.props;\n\n    bookRequested();\n    StoreService.get(`/books/${bookId}`, token)\n      .then((data) => {\n        bookLoaded(data);\n      });\n  }\n\n  onCountChange = ({ target }) => {\n    this.setState({\n      booksCount: parseFloat(target.value)\n    });\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { book, bookAddedToCart } = this.props;\n    const { booksCount } = this.state;\n\n    bookAddedToCart(book.id, booksCount);\n    this.setState({\n      booksCount: 0\n    });\n  };\n\n  render() {\n    const {book, loading, maxCount, minCount, cartItems, isAuthorized} = this.props;\n    const { booksCount } = this.state;\n\n    const cartBookIndex = cartItems.findIndex((item) => item.id === book.id);\n    const cartBook = cartItems[cartBookIndex];\n    const cartBookCount = cartBook ? cartBook.count : 0;\n\n    if (loading) {\n      return <Spinner />\n    }\n\n    if (!isAuthorized) {\n      return <div>Not Found</div>\n    }\n\n    if (book) {\n      const { title, author, level, tags, cover, description, price } = book;\n      const maxValue = maxCount - cartBookCount;\n      const isValid =  (booksCount <= maxValue || isNaN(booksCount)) ? 'is-valid' : 'is-invalid';\n      const calcTotal = (price * booksCount).toFixed(2);\n      const isTotalNumber = isNaN(booksCount) ? 0 : calcTotal;\n\n      return (\n        <main className=\"container book-page\">\n          <div className=\"book-details-wrapper\">\n            <div className=\"main-details\">\n              <img src={cover} alt=\"cover\" className=\"cart-img\"/>\n              <div className=\"book-details\">\n                <div className=\"book-title\"><b>Title: </b>{title}</div>\n                <div className=\"book-author\"><b>Author: </b>{author}</div>\n                <div className=\"book-level\"><b>Level: </b>{level}</div>\n                <div className=\"book-tags\"><b>Tags: </b>{tags}</div>\n              </div>\n            </div>\n            <div className=\"description\"><b>Description: </b>{description}</div>\n          </div>\n          <form className=\"price-wrapper\" onSubmit={this.onSubmit}>\n            <div className=\"price-counter\">\n              <div className=\"price-item\"><b>Price, $</b><b>{price}</b></div>\n              <label className=\"counter-wrapper\" htmlFor=\"count-input\">\n                <b>Count</b>\n                <div className=\"input-wrapper\">\n                  <input type=\"number\"\n                         className={`counter form-control ${isValid}`}\n                         onChange={this.onCountChange}\n                         max={maxValue}\n                         min={minCount}\n                         value={booksCount}\n                         id=\"count-input\"\n                         required />\n                  <div className=\"invalid-feedback\">We don&apos;t have so much =(</div>\n                </div>\n              </label>\n              <div className=\"price-item\"><b>Total price</b><b>{isTotalNumber}</b></div>\n            </div>\n            <button className=\"btn btn-primary add-to-cart\"\n                    type=\"submit\">\n              Add to cart\n            </button>\n          </form>\n        </main>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    book: state.bookDetails.book,\n    maxCount: state.bookDetails.maxCount,\n    minCount: state.bookDetails.minCount,\n    cartItems: state.bookDetails.cartItems,\n    token: state.userData.token,\n    isAuthorized: state.userData.isAuthorized,\n    loading: state.bookDetails.loading\n  }\n};\n\nconst mapDispatchToProps = {\n  bookLoaded,\n  bookRequested,\n  bookAddedToCart\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookDetails);\n","import React from 'react';\n\nexport class ErrorBoundry extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      hasError: false\n    }\n  }\n\n  componentDidCatch() {\n    this.setState({ hasError: true })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <div>Error</div>\n    }\n\n    return this.props.children;\n  }\n}\n","const initialState = {\n  book: null,\n  bookId: null,\n  maxCount: 0,\n  minCount: 0,\n  cartItems: [],\n  orderTotal: 0,\n  booksInCart: 0,\n  isCartEmpty: true,\n  purchaseMessage: null,\n  loading: true\n};\n\nconst updateCartItems = (cartItems, item, idx) => {\n  if (idx === -1) {\n    return [\n      ...cartItems,\n      item\n    ]\n  }\n  return [\n    ...cartItems.slice(0, idx),\n    item,\n    ...cartItems.slice(idx + 1)\n  ]\n};\n\nconst updateCartItem = (book, item, count) => {\n  if (item) {\n    const total = item.totalPrice + book.price * count;\n    return {\n      ...item,\n      count: item.count + count,\n      totalPrice: parseFloat((total).toFixed(2))\n    }\n  } else {\n    return {\n      ...item,\n      id: book.id,\n      count: count,\n      totalPrice: parseFloat((book.price * count).toFixed(2)),\n      title: book.title\n    };\n  }\n};\n\nexport const bookDetails = (state = initialState, action) => {\n  const {type, payload} = action;\n  switch (type) {\n    case 'FETCH_BOOK_REQUEST':\n      return {\n        ...state,\n        book: [],\n        loading: true\n      };\n    case 'FETCH_BOOK_SUCCESS':\n      return {\n        ...state,\n        book: payload,\n        maxCount: payload.count,\n        loading: false\n      };\n    case 'PURCHASE_SUCCESS':\n      return {\n        ...initialState\n      };\n    case 'BOOK_ADDED_TO_CART':\n      const { book, cartItems, orderTotal, booksInCart } = state;\n      const itemIndex = cartItems.findIndex((item) => item.id === payload.bookId);\n      const item = cartItems[itemIndex];\n      const newItem = updateCartItem(book, item, payload.count);\n      const newTotal = parseFloat((orderTotal + book.price * payload.count).toFixed(2));\n      const newBooksInCart = booksInCart + payload.count;\n\n      return {\n        ...state,\n        isCartEmpty: false,\n        cartItems: updateCartItems(state.cartItems, newItem, itemIndex),\n        orderTotal: newTotal,\n        booksInCart: newBooksInCart\n      };\n\n    default:\n      return state;\n  }\n};\n","const initialState = {\n  books: [],\n  searchText: '',\n  filterPrice: 'all',\n  loading: true\n};\n\nexport const bookList = (state = initialState, action) => {\n  const {type, payload} = action;\n  switch (type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        ...state,\n        books: [],\n        loading: true\n      };\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        ...state,\n        books: payload,\n        loading: false\n      };\n    case 'SEARCH_BOOKS':\n      return {\n        ...state,\n        searchText: payload.searchText\n      };\n    case 'FILTER_BOOKS':\n      return {\n        ...state,\n        filterPrice: payload.filterPrice\n      };\n\n    default:\n      return state;\n  }\n};\n","const initialState = {\n  username: 'Alex',\n  avatar: 'https://api.adorable.io/avatars/100/orange.png',\n  token: null,\n  isAuthorized: false\n};\n\nexport const userData = (state = initialState, action) => {\n  const {type, payload} = action;\n  switch (type) {\n    case 'FETCH_USER_SUCCESS':\n      return {\n        ...payload,\n        isAuthorized: true\n      };\n\n    default:\n      return state;\n  }\n};","import { combineReducers } from 'redux';\nimport { bookDetails } from './bookDetails';\nimport { bookList } from './bookList';\nimport { userData } from './authorization'\n\nexport const reducer = combineReducers({\n  bookList,\n  bookDetails,\n  userData\n});","import { createStore } from \"redux\";\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { reducer } from './reducers';\n\nexport const store = createStore(\n  reducer,\n  composeWithDevTools()\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from \"react-router-dom\";\n\nimport { App } from './components/App';\nimport { ErrorBoundry } from \"./components/ErrorBoundry\";\nimport { store } from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { Header } from \"../Header\";\nimport { HomePage, CartPage, SignInPage } from \"../../pages\";\nimport { BookDetails } from \"../BookDetails\";\n\nimport './app.css';\n\nexport const App = () => {\n  return (\n    <div className=\"container\">\n      <Header />\n        <Switch>\n          <Redirect from=\"/\" to=\"/signin\" exact />\n          <Route path=\"/signin\" component={SignInPage} />\n          <Route path=\"/books\" component={HomePage} exact />\n          <Route path=\"/cart\" component={CartPage} />\n          <Route path=\"/books/:id\"\n                 render={({ match }) => {\n                   const { id } = match.params;\n                   if (id > 77) {\n                     return <div>Not Found</div>\n                   }\n                   return <BookDetails bookId={id}/>\n                 }} />\n        </Switch>\n    </div>\n  )\n};\n"],"sourceRoot":""}