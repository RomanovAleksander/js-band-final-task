{"version":3,"sources":["components/Header/Header.js","components/BookListItem/BookListItem.js","services/StoreService.js","components/Spinner/Spinner.js","components/BookList/BookList.js","actions/index.js","components/Filter/Filter.js","pages/HomePage.js","components/Cart/Cart.js","pages/CartPage.js","components/BookDetails/BooksDetails.js","components/ErrorBoundry/ErrorBoundry.js","reducers/index.js","store.js","index.js","components/App/App.js"],"names":["Header","userName","className","to","src","alt","BookListItem","book","onView","title","author","price","cover","onClick","data","id","Promise","resolve","reject","setTimeout","Error","Spinner","BookList","books","map","key","BookListContainer","this","props","booksLoaded","booksRequested","StoreService","getBooks","then","loading","visibleBooks","React","Component","mapDispatchToProps","newBooks","type","payload","connect","state","Filter","onSearchChange","target","searchBook","value","searchText","placeholder","onChange","withRouter","history","bookId","push","items","cartItems","total","orderTotal","onPurchase","console","log","item","count","CartPage","BooksDetails","BooksDetailsContainer","ErrorBoundry","hasError","setState","children","initialState","filterPrice","store","createStore","action","filter","toLowerCase","includes","composeWithDevTools","ReactDOM","render","path","component","HomePage","exact","match","params","document","getElementById"],"mappings":"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","file":"static/js/main.8b44a239.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './header.css';\n\nexport const Header = ({userName}) => {\n  return (\n    <header className=\"shop-header row\">\n      <Link to=\"/books\">\n        <div className=\"logo\">JS BAND STORE / Oleksandr Romanov</div>\n      </Link>\n      <div className=\"shop-menu\">\n        <Link to=\"/cart\">\n          <i className=\"cart fa fa-shopping-cart\"/>\n        </Link>\n        <div className=\"menu-item\">\n          <button className=\"btn btn-primary\">Sign-Out</button>\n        </div>\n        <div className=\"menu-item row\">\n          <img src=\"https://api.adorable.io/avatars/100/abott@adorable.png\" alt=\"avatar\" className=\"rounded-circle\"/>\n          <div className=\"userName\">{userName}</div>\n        </div>\n      </div>\n    </header>\n  )\n};","import React from 'react';\nimport './bookListItem.css';\n\n\nexport const BookListItem = ({book, onView}) => {\n  const { title, author, price, cover } = book;\n  return (\n    <div className=\"book-list-item\">\n      <div className=\"book-cover\">\n        <img src={cover} alt=\"cover\" />\n      </div>\n      <div className=\"book-details\">\n        <div className=\"book-title\">{title}</div>\n        <div className=\"book-author\">{author}</div>\n      </div>\n      <div className=\"book-footer\">\n        <div className=\"book-price\">{price}</div>\n        <button\n          onClick={onView}\n          className=\"btn btn-primary add-to-cart\"\n        >\n          View\n        </button>\n      </div>\n    </div>\n  )\n};\n","class StoreService {\n\n  data = [\n    { id: 0,\n      title: 'Success',\n      author: 'Romanov',\n      price: '50$',\n      cover: ''\n    },\n    { id: 1,\n      title: 'The Rock',\n      author: 'Rock',\n      price: '70$',\n      cover: ''\n    }\n  ];\n\n  getBooks() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve(this.data);\n        reject(new Error('Error'));\n      }, 800)\n    })\n  }\n}\n\nexport default new StoreService();\n","import React from 'react';\nimport './spinner.css';\n\nexport const Spinner = () => {\n  return <div>Loading...</div>\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { BookListItem } from '../BookListItem';\n\nimport StoreService from '../../services/StoreService';\nimport { booksLoaded, booksRequested } from '../../actions';\nimport { Spinner } from '../Spinner';\nimport './bookList.css';\n\nconst BookList = ({ books, onView }) => {\n  return (\n    <ul className=\"book-list\">\n      {\n        books.map((book) => {\n          return (\n            <li key={book.id}>\n              <BookListItem\n                book={book}\n                onView={() => onView(book.id)} />\n            </li>\n          )\n        })\n      }\n    </ul>\n  )\n};\n\nclass BookListContainer extends React.Component {\n  componentDidMount() {\n    const {booksLoaded, booksRequested} = this.props;\n    booksRequested();\n    StoreService.getBooks()\n      .then((data) => {\n        booksLoaded(data);\n      });\n  }\n\n  render() {\n    const {books, loading, visibleBooks, onView} = this.props;\n    if (loading) {\n      return <Spinner/>\n    }\n    if (visibleBooks) {\n      return <BookList\n        onView={onView}\n        books={visibleBooks} />;\n    } else {\n      return <BookList\n        onView={onView}\n        books={books} />;\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    books: state.books,\n    visibleBooks: state.visibleBooks,\n    loading: state.loading\n  }\n};\n\nconst mapDispatchToProps = {\n  booksLoaded,\n  booksRequested\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookListContainer);\n","const booksRequested = () => {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  }\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  }\n};\n\nconst searchBook = (books, searchText) => ({\n  type: 'SEARCH_BOOK',\n  payload: {\n    searchText,\n    books\n  }\n});\n\nconst filterBook = (books, filterPrice) => ({\n  type: 'FILTER_BOOKS',\n  payload: {\n    filterPrice,\n    books\n  }\n});\n\nconst bookShowDetails = (bookId) => {\n  return {\n    type: 'BOOK_SHOW_DETAILS',\n    payload: bookId\n  }\n};\n\nexport {\n  booksLoaded,\n  booksRequested,\n  searchBook,\n  filterBook,\n  bookShowDetails\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { searchBook } from \"../../actions\";\nimport './filter.css';\n\nclass Filter extends React.Component {\n  onSearchChange = ({ target }) => {\n    const { searchBook, books } = this.props;\n    const searchText = target.value;\n\n    searchBook(books, searchText);\n  };\n\n  // handleFilterChange = ({ target }) => {\n  //   const { filterBook, books } = this.props;\n  //   let price = target.value;\n  //\n  //   filterBook(books, price);\n  // };\n\n  render() {\n    const { searchText } = this.props;\n\n    return (\n      <div className=\"filter-wrapper\">\n        <input\n          type=\"search\"\n          className=\"form-control mr-sm-2\"\n          placeholder=\"search by title\"\n          onChange={this.onSearchChange}\n          value={searchText}\n        />\n        <select\n          className=\"select-status select\"\n          key=\"status\"\n          // onChange={this.handleFilterChange}\n          // value={filterPrice}\n        >\n          <option value=\"Price\">Price</option>\n          <option value=\"0-15\">0-15</option>\n          <option value=\"15-30\">15-30</option>\n          <option value=\">30\">&gt;30</option>\n        </select>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  searchBook\n};\n\nconst mapStateToProps = state => ({\n  books: state.books,\n  searchText: state.searchText,\n  // filterPrice: state.filterPrice,\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Filter);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { BookList } from '../components/BookList';\nimport { Filter } from '../components/Filter';\n\nconst HomePage = ({ history }) => {\n  return (\n    <>\n      <Filter />\n      <BookList onView={(bookId) => {\n        history.push(`/books/${bookId}`);\n      }}/>\n    </>\n  );\n};\n\nexport default withRouter(HomePage);\n","import React  from 'react';\nimport { connect } from 'react-redux';\nimport './cart.css'\n\nconst Cart = ({ items, total, onPurchase }) => {\n  const renderRow = (item) => {\n    const { id, title, count, total } = item;\n    return (\n      <tr key={id}>\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>{total}</td>\n      </tr>\n    )\n  };\n\n  return (\n    <div className=\"cart-container\">\n      <button className=\"btn btn-secondary\"\n              onClick={onPurchase}>Purchase</button>\n      <div className=\"table-wrapper\">\n        <table>\n          <tbody>\n          { items.map(renderRow) }\n          </tbody>\n        </table>\n      </div>\n      <div className=\"total\">Total price, $ {total}</div>\n    </div>\n  )\n};\n\nconst mapStateToProps = state => ({\n  items: state.cartItems,\n  total: state.orderTotal,\n});\n\nconst mapDispatchToProps = () => {\n  return {\n    onPurchase: () => {\n      console.log('onPurchase');\n    }\n  }\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Cart);\n","import React  from 'react';\nimport { Cart } from '../components/Cart';\n\nexport const CartPage = () => {\n  return (\n    <Cart />\n  );\n};\n","import React from 'react';\n\nconst BooksDetails = ({ bookId }) => {\n  return (\n    <ul className=\"book-list\">\n      <li>\n        <div>Book Details</div>\n        <div>{bookId}</div>\n      </li>\n    </ul>\n  )\n};\n\nclass BooksDetailsContainer extends React.Component {\n  componentDidMount() {\n\n  }\n\n  render() {\n    return <BooksDetails bookId={this.props.bookId}/>;\n  }\n}\n\n\nexport default BooksDetailsContainer;\n","import React from 'react';\n\nexport class ErrorBoundry extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      hasError: false\n    }\n  }\n\n  componentDidCatch() {\n    this.setState({ hasError: true })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <div>Error</div>\n    }\n\n    return this.props.children;\n  }\n}\n","const initialState = {\n  books: [],\n  loading: true,\n  searchText: '',\n  visibleBooks: null,\n  filterPrice: 'Price',\n  cartItems: [\n    {\n      id: 1,\n      title: 'Book 1',\n      count: 1,\n      total: 100\n    },\n    {\n      id: 2,\n      title: 'Book 2',\n      count: 2,\n      total: 200\n    }\n  ],\n  orderTotal: 300,\n  bookId: null\n};\n\nexport const reducer = (state = initialState, action) => {\n  const {type, payload} = action;\n  switch (type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        ...state,\n        books: [],\n        loading: true\n      };\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        ...state,\n        books: payload,\n        loading: false\n      };\n    case 'SEARCH_BOOK':\n      return {\n        ...state,\n        searchText: payload.searchText,\n        visibleBooks: payload.books.filter(book => book.title.toLowerCase().includes(payload.searchText.toLowerCase()))\n      };\n\n    case 'BOOK_SHOW_DETAILS':\n      return {\n        ...state,\n        bookId: payload.bookId\n      };\n\n    default:\n      return state;\n  }\n};\n","import { createStore } from \"redux\";\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { reducer } from './reducers';\n\nexport const store = createStore(\n  reducer,\n  composeWithDevTools()\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from \"react-router-dom\";\n\nimport { App } from './components/App';\nimport { ErrorBoundry } from \"./components/ErrorBoundry\";\nimport { store } from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Header } from \"../Header\";\nimport { HomePage, CartPage } from \"../../pages\";\nimport { BookDetails } from \"../BookDetails\";\n\nimport './app.css';\n\nexport const App = () => {\n  return (\n    <main className=\"container\">\n      <Header userName={'Alex'} />\n        <Switch>\n          <Route path=\"/books\" component={HomePage} exact />\n          <Route path=\"/cart\" component={CartPage} />\n          <Route path=\"/books/:id\"\n                 render={({ match }) => {\n                   const { id } = match.params;\n                   return <BookDetails bookId={id}/>\n                 }} />\n        </Switch>\n    </main>\n  )\n};\n"],"sourceRoot":""}