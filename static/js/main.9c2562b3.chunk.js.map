{"version":3,"sources":["components/Header/Header.js","actions/signin/actions.js","actions/signin/types.js","services/StoreService.js","services/LocalStorageService.js","components/BookListItem/BookListItem.js","components/Spinner/Spinner.js","components/ErrorIndicator/ErrorIndicator.js","components/BookList/BookList.js","actions/books/actions.js","actions/books/types.js","components/Filter/Filter.js","components/ScrollArrow/ScrollArrow.js","pages/BooksPage.js","components/BookDetails/BookDetails.js","actions/book/actions.js","actions/book/types.js","actions/cart/actions.js","actions/cart/types.js","pages/BookPage.js","components/Cart/Cart.js","pages/CartPage.js","components/SignIn/SignIn.js","pages/SignInPage.js","components/NotFound/NotFound.js","pages/NotFoundPage.js","components/Routing/PrivateRoute.js","components/App/App.js","components/ErrorBoundry/ErrorBoundry.js","reducers/bookAndCart.js","reducers/bookList.js","reducers/authorization.js","reducers/index.js","store.js","index.js"],"names":["mapDispatchToProps","userSignOut","type","withRouter","connect","state","booksInCart","bookAndCart","cart","username","userData","user","avatar","token","isAuthorized","history","authorized","className","to","onClick","push","src","alt","_url","errObj","url","status","message","option","fetch","this","res","ok","json","fetchData","mode","headers","Authorization","body","method","JSON","stringify","LocalStorage","instance","key","parse","localStorage","getItem","value","setItem","BookListItem","book","onView","title","author","price","cover","Spinner","ErrorIndicator","BookList","books","map","id","BookListContainer","props","booksLoaded","booksRequested","booksError","StoreService","get","then","data","catch","err","items","searchText","filter","item","toLowerCase","indexOf","loading","filterPrice","error","visibleBooks","filterByPrice","search","React","Component","newBooks","payload","bookList","Filter","onSearchChange","target","searchBooks","handleFilterChange","filterBooks","placeholder","onChange","ScrollArrow","trackScroll","scrolled","window","pageYOffset","coords","document","documentElement","clientHeight","setState","isScrolled","backToTop","scrollBy","setTimeout","addEventListener","removeEventListener","aria-hidden","bookId","BookDetails","onCountChange","booksCount","parseFloat","onSubmit","e","preventDefault","bookAddedToCart","bookLoaded","bookRequested","bookError","maxCount","minCount","cartItems","cartBookIndex","findIndex","cartBook","cartBookCount","count","level","tags","description","maxValue","isValid","isNaN","calcTotal","toFixed","isTotalNumber","htmlFor","max","min","required","newBook","bookDetails","BookPage","Cart","purchase","purchaseRequest","purchaseSuccess","purchaseError","post","isShow","renderRow","totalPrice","renderEmptyCart","renderFilledCart","total","renderCartItems","isCartEmpty","isEmpty","disabled","orderTotal","CartPage","SignIn","signInRequest","signInSuccess","signInError","LocalStorageService","minLength","maxLength","length","SignInPage","NotFound","NotFoundPage","component","rest","render","booksQuantity","from","exact","path","BooksPage","match","params","ErrorBoundry","hasError","children","initialState","updateCartItems","idx","slice","updateCartItem","reducer","combineReducers","action","itemIndex","newItem","newTotal","newBooksInCart","undefined","clear","store","createStore","composeWithDevTools","ReactDOM","getElementById"],"mappings":"0eAqDMA,G,MAAqB,CACzBC,YC3BkB,WAClB,MAAO,CACLC,KC1BoB,eFsDTC,cACbC,aAfsB,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,YAAYC,KAAKF,YACpCG,SAAUJ,EAAMK,SAASC,KAAKF,SAC9BG,OAAQP,EAAMK,SAASC,KAAKC,OAC5BC,MAAOR,EAAMK,SAASC,KAAKE,MAC3BC,aAAcT,EAAMK,SAASI,gBASNd,EAAzBI,EAnDa,SAAC,GAA2E,IAAzEK,EAAwE,EAAxEA,SAAUG,EAA8D,EAA9DA,OAAQE,EAAsD,EAAtDA,aAAcR,EAAwC,EAAxCA,YAAaS,EAA2B,EAA3BA,QAASd,EAAkB,EAAlBA,YAMhEe,EACJ,yBAAKC,UAAU,aACb,kBAAC,IAAD,CAAMC,GAAG,SACP,uBAAGD,UAAU,6BACb,0BAAMA,UAAU,cAAcX,IAEhC,yBAAKW,UAAU,aACb,4BAAQA,UAAU,kBACVE,QAbE,WACdlB,IACAc,EAAQK,KAAR,aAUI,aAMF,yBAAKH,UAAU,iBACb,yBAAKI,IAAKT,EAAQU,IAAI,SAASL,UAAU,mBACzC,yBAAKA,UAAU,aAAaR,KAKlC,OACE,4BAAQQ,UAAU,mBAChB,kBAAC,IAAD,CAAMC,GAAG,UACP,yBAAKD,UAAU,QAAf,sCAEDH,EAAeE,EAAa,U,oDGOpB,M,iDA5CbO,KAAO,gC,KAEPC,OAAS,SAACC,EAAKC,GACb,MAAO,CACLC,QAAQ,oBAAD,OAAsBF,EAAtB,oBAAqCC,GAC5CA,OAAQA,I,sDAIID,EAAKG,G,kGACDC,MAAM,GAAD,OAAIC,KAAKP,MAAT,OAAgBE,GAAOG,I,WAAxCG,E,QACGC,G,sBACDF,KAAKN,OAAL,UAAeM,KAAKP,MAApB,OAA2BE,GAAOM,EAAIL,Q,gCAEvCK,EAAIE,Q,2EAGHR,EAAKZ,G,2FACNiB,KAAKI,UAAUT,EAAK,CACzBU,KAAM,OACNC,QAAS,CACPC,cAAc,UAAD,OAAYxB,O,4EAK1BY,EAAKa,EAAMzB,GACd,IAAMuB,EAAU,CACd,eAAgB,oBAOlB,OAJIvB,IACFuB,EAAQC,cAAR,iBAAkCxB,IAG7BiB,KAAKI,UAAUT,EAAK,CACzBc,OAAQ,OACRJ,KAAM,OACNC,UACAE,KAAME,KAAKC,UAAUH,S,MCtBZ,M,WAjBb,aACE,OADa,oBACTI,EAAaC,SACRD,EAAaC,UAEtBD,EAAaC,SAAWb,KACjBA,M,oDAGDc,GACN,OAAOJ,KAAKK,MAAMC,aAAaC,QAAb,UAAwBH,O,8BAGpCA,EAAKI,GACX,OAAOF,aAAaG,QAAb,UAAwBL,GAAOJ,KAAKC,UAAUO,Q,MCX5CE,G,MAAe,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,OAC3BC,EAAgCF,EAAhCE,MAAOC,EAAyBH,EAAzBG,OAAQC,EAAiBJ,EAAjBI,MAAOC,EAAUL,EAAVK,MAC9B,OACE,yBAAKvC,UAAU,kBACb,yBAAKI,IAAKmC,EAAOlC,IAAI,QAAQL,UAAU,iBACvC,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,cAAcoC,GAC7B,yBAAKpC,UAAU,eAAeqC,IAEhC,yBAAKrC,UAAU,eACb,yBAAKA,UAAU,cAAcsC,EAA7B,MACA,4BACEpC,QAASiC,EACTnC,UAAU,mBAFZ,YCXKwC,G,MAAU,WACrB,OACE,yBAAKxC,UAAU,WACb,yBAAKA,UAAU,6CACb,yBAAKA,UAAU,kBACb,kCACA,kCACA,6BACE,mCAEF,6BACE,wCCXCyC,G,MAAiB,SAAC,GAAgB,IAAdhC,EAAa,EAAbA,OAC/B,OACE,oCACA,yBAAKT,UAAU,mBAAf,8BAEGS,GAAW,iDCEZiC,G,MAAW,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,MAAOR,EAAa,EAAbA,OACzB,OACE,wBAAInC,UAAU,aAEV2C,EAAMC,KAAI,SAACV,GACT,OACE,wBAAIP,IAAKO,EAAKW,IACZ,kBAAC,EAAD,CACEX,KAAMA,EACNC,OAAQ,kBAAMA,EAAOD,EAAKW,cASpCC,E,4LACiB,IAAD,EACyCjC,KAAKkC,MAAxDC,EADU,EACVA,YAAaC,EADH,EACGA,eAAgBC,EADnB,EACmBA,WAAYtD,EAD/B,EAC+BA,MAEjDqD,IACAE,EAAaC,IAAI,SAAUxD,GACxByD,MAAK,SAACC,GAAD,OAAUN,EAAYM,MAC3BC,OAAM,SAACC,GACNN,EAAWM,Q,6BAIVC,EAAOC,GACZ,OAAmB,IAAfA,EACKD,EAGFA,EAAME,QAAO,SAAAC,GAClB,OAAOA,EAAKxB,MAAMyB,cAAcC,QAAQJ,EAAWG,gBAAkB,O,oCAI3DJ,EAAOnB,GACnB,OAAQA,GACN,IAAK,MACH,OAAOmB,EACT,IAAK,OACH,OAAOA,EAAME,QAAO,SAACC,GAAD,OAAUA,EAAKtB,OAAS,GAAKsB,EAAKtB,MAAQ,MAChE,IAAK,QACH,OAAOmB,EAAME,QAAO,SAACC,GAAD,OAAUA,EAAKtB,OAAS,IAAMsB,EAAKtB,OAAS,MAClE,IAAK,MACH,OAAOmB,EAAME,QAAO,SAACC,GAAD,OAAUA,EAAKtB,MAAQ,MAC7C,QACE,OAAOmB,K,+BAIH,IAAD,EAKH5C,KAAKkC,MAHPJ,EAFK,EAELA,MAAOoB,EAFF,EAEEA,QAASL,EAFX,EAEWA,WAChBM,EAHK,EAGLA,YAAa7B,EAHR,EAGQA,OAAQtC,EAHhB,EAGgBA,aACrBoE,EAJK,EAILA,MAGF,GAAIF,EACF,OAAO,kBAAC,EAAD,MAGT,GAAIE,EACF,OAAqB,MAAjBA,EAAMxD,OACD,kBAAC,EAAD,CAAgBA,OAAQwD,EAAMxD,SAEhC,kBAAC,EAAD,MAGT,IAAKZ,EACH,OAAO,0CAGT,GAAI8C,EAAO,CACT,IAAMuB,EAAerD,KAAKsD,cACxBtD,KAAKuD,OAAOzB,EAAOe,GACnBM,GAGF,OAAO,kBAAC,EAAD,CACL7B,OAAQA,EACRQ,MAAOuB,S,GAnEiBG,IAAMC,WAoFhCvF,EAAqB,CACzBiE,YCnGkB,SAACuB,GACnB,MAAO,CACLtF,KCf+B,sBDgB/BuF,QAASD,IDiGXtB,eC1GqB,WACrB,MAAO,CACLhE,KCV+B,wBFmHjCiE,WC9FiB,SAACe,GAClB,MAAO,CACLhF,KCrB+B,sBDsB/BuF,QAASP,KD8FE9E,eAlBS,SAACC,GACvB,MAAO,CACLuD,MAAOvD,EAAMqF,SAAS9B,MACtBe,WAAYtE,EAAMqF,SAASf,WAC3BM,YAAa5E,EAAMqF,SAAST,YAC5BpE,MAAOR,EAAMK,SAASC,KAAKE,MAC3BC,aAAcT,EAAMK,SAASI,aAC7BkE,QAAS3E,EAAMqF,SAASV,QACxBE,MAAO7E,EAAMqF,SAASR,SAYxBlF,EAFaI,CAGb2D,GGnHI4B,G,iNACJC,eAAiB,YAAiB,IAAdC,EAAa,EAAbA,QAIlBC,EAHwB,EAAK9B,MAArB8B,aACWD,EAAO7C,Q,EAK5B+C,mBAAqB,YAAiB,IAAdF,EAAa,EAAbA,QAItBG,EAHwB,EAAKhC,MAArBgC,aACYH,EAAO7C,Q,wEAKnB,IAAD,EAC6BlB,KAAKkC,MAAjCW,EADD,EACCA,WAAYM,EADb,EACaA,YAEpB,OACE,yBAAKhE,UAAU,kBACb,2BACEf,KAAK,SACLe,UAAU,eACVgF,YAAY,kBACZC,SAAUpE,KAAK8D,eACf5C,MAAO2B,IAET,4BACE1D,UAAU,uBACV2B,IAAI,SACJsD,SAAUpE,KAAKiE,mBACf/C,MAAOiC,GAEP,4BAAQjC,MAAM,OAAd,SACA,4BAAQA,MAAM,QAAd,QACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,OAAd,a,GApCWsC,IAAMC,YA2CrBvF,EAAqB,CACzB8F,YFtBkB,SAACnB,GAAD,MAAiB,CACnCzE,KC1B0B,eD2B1BuF,QAAS,CACPd,gBEoBFqB,YFhBkB,SAACf,GAAD,MAAkB,CACpC/E,KChC0B,eDiC1BuF,QAAS,CACPR,kBEqBW7E,eALS,SAAAC,GAAK,MAAK,CAChCsE,WAAYtE,EAAMqF,SAASf,WAC3BM,YAAa5E,EAAMqF,SAAST,eAK5BjF,EAFaI,CAGbuF,GC3DWQ,G,MAAb,YACE,aAAe,IAAD,8BACZ,+CAcFC,YAAc,WACZ,IAAMC,EAAWC,OAAOC,YAClBC,EAASC,SAASC,gBAAgBC,aAEpCN,EAAWG,GACb,EAAKI,SAAS,CACZC,YAAY,IAGZR,EAAWG,GACb,EAAKI,SAAS,CACZC,YAAY,KA1BJ,EA+BdC,UAAY,WACNR,OAAOC,YAAc,IACvBD,OAAOS,SAAS,GAAI,KACpBC,WAAW,EAAKF,UAAW,KAhC7B,EAAKzG,MAAQ,CACXwG,YAAY,GAHF,EADhB,iFASIP,OAAOW,iBAAiB,SAAUnF,KAAKsE,eAT3C,6CAaIE,OAAOY,oBAAoB,SAAUpF,KAAKsE,eAb9C,+BAwCI,IAAMS,EAAc/E,KAAKzB,MAAMwG,WAAc,OAAS,GAEtD,OACE,yBAAK5F,UAAS,mBAAc4F,GACvBxD,MAAM,YACNlC,QAASW,KAAKgF,WACjB,uBAAG7F,UAAU,wBAAwBkG,cAAY,QAAjD,UA9CR,GAAiC7B,IAAMC,YCiBxBpF,eAbG,SAAC,GAAiB,IAAfY,EAAc,EAAdA,QACnB,OACE,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAUqC,OAAQ,SAACgE,GACjBrG,EAAQK,KAAR,iBAAuBgG,OAEzB,kBAAC,EAAD,UCLAC,G,kBACJ,aAAe,IAAD,8BACZ,+CAyBFC,cAAgB,YAAe,IAAbzB,EAAY,EAAZA,OAChB,EAAKe,SAAS,CACZW,WAAYC,WAAW3B,EAAO7C,UA5BpB,EAgCdyE,SAAW,SAACC,GACVA,EAAEC,iBADc,MAEgB,EAAK3D,MAA9Bb,EAFS,EAETA,KAAMyE,EAFG,EAEHA,gBACNL,EAAc,EAAKlH,MAAnBkH,WAEPK,EAAgBzE,EAAKW,GAAIyD,GACzB,EAAKX,SAAS,CACZW,WAAY,KArCd,EAAKlH,MAAQ,CACXkH,WAAY,GAHF,E,iFAOO,IAAD,EAOdzF,KAAKkC,MALP6D,EAFgB,EAEhBA,WACAC,EAHgB,EAGhBA,cACAC,EAJgB,EAIhBA,UACAX,EALgB,EAKhBA,OACAvG,EANgB,EAMhBA,MAGFiH,IACA1D,EAAaC,IAAb,iBAA2B+C,GAAUvG,GAClCyD,MAAK,SAACC,GACLsD,EAAWtD,MAEZC,OAAM,SAACC,GACNsD,EAAUtD,Q,+BAqBN,IAAD,EAMH3C,KAAKkC,MAJPb,EAFK,EAELA,KAAM6B,EAFD,EAECA,QACNgD,EAHK,EAGLA,SAAUC,EAHL,EAGKA,SACVC,EAJK,EAILA,UAAWpH,EAJN,EAIMA,aACXoE,EALK,EAKLA,MAEKqC,EAAczF,KAAKzB,MAAnBkH,WAEDY,EAAgBD,EAAUE,WAAU,SAACvD,GAAD,OAAUA,EAAKf,KAAOX,EAAKW,MAC/DuE,EAAWH,EAAUC,GACrBG,EAAgBD,EAAWA,EAASE,MAAQ,EAElD,GAAIvD,EACF,OAAO,kBAAC,EAAD,MAGT,GAAIE,EACF,OAAqB,MAAjBA,EAAMxD,OACD,kBAAC,EAAD,CAAgBA,OAAQwD,EAAMxD,SAEhC,kBAAC,EAAD,MAGT,IAAKZ,EACH,OAAO,0CAGT,GAAIqC,EAAM,CAAC,IAEPE,EACEF,EADFE,MAAOC,EACLH,EADKG,OAAQkF,EACbrF,EADaqF,MAAOC,EACpBtF,EADoBsF,KAAMjF,EAC1BL,EAD0BK,MAAOkF,EACjCvF,EADiCuF,YAAanF,EAC9CJ,EAD8CI,MAE5CoF,EAAWX,EAAWM,EACtBM,EAAWrB,GAAcoB,GAAYE,MAAMtB,GAAe,WAAa,aACvEuB,GAAavF,EAAQgE,GAAYwB,QAAQ,GACzCC,EAAgBH,MAAMtB,GAAc,EAAIuB,EAE9C,OACE,0BAAM7H,UAAU,uBACd,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,gBACb,yBAAKI,IAAKmC,EAAOlC,IAAI,QAAQL,UAAU,aACvC,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,cAAa,sCAAeoC,GAC3C,yBAAKpC,UAAU,eAAc,uCAAgBqC,GAC7C,yBAAKrC,UAAU,cAAa,sCAAeuH,GAC3C,yBAAKvH,UAAU,aAAY,qCAAcwH,KAG7C,yBAAKxH,UAAU,eAAc,4CAAqByH,IAEpD,0BAAMzH,UAAU,gBAAgBwG,SAAU3F,KAAK2F,UAC7C,yBAAKxG,UAAU,iBACb,yBAAKA,UAAU,cAAa,uCAAe,2BAAIsC,IAC/C,2BAAOtC,UAAU,kBAAkBgI,QAAQ,eACzC,oCACA,yBAAKhI,UAAU,iBACb,2BAAOf,KAAK,SACLe,UAAS,+BAA0B2H,GACnC1C,SAAUpE,KAAKwF,cACf4B,IAAKP,EACLQ,IAAKlB,EACLjF,MAAOuE,EACPzD,GAAG,cACHsF,UAAQ,IACf,yBAAKnI,UAAU,oBAAf,8BAGJ,yBAAKA,UAAU,cAAa,0CAAkB,2BAAI+H,KAEpD,4BAAQ/H,UAAU,8BACVf,KAAK,UADb,sB,GAlHcoF,IAAMC,YA0I1BvF,EAAqB,CACzB6H,WCzIiB,SAACwB,GAClB,MAAO,CACLnJ,KCb8B,qBDc9BuF,QAAS4D,IDuIXvB,cChJoB,WACpB,MAAO,CACL5H,KCR8B,uBFuJhC6H,UCpIgB,SAAC7C,GACjB,MAAO,CACLhF,KCnB8B,qBDoB9BuF,QAASP,IDkIX0C,gBGjJsB,SAACR,EAAQmB,GAC/B,MAAO,CACLrI,KCT8B,qBDU9BuF,QAAS,CACP2B,SACAmB,YH+ISnI,eApBS,SAACC,GACvB,MAAO,CACL8C,KAAM9C,EAAME,YAAY+I,YAAYnG,KACpC6E,SAAU3H,EAAME,YAAY+I,YAAYtB,SACxCC,SAAU5H,EAAME,YAAY+I,YAAYrB,SACxCC,UAAW7H,EAAME,YAAYC,KAAK0H,UAClCrH,MAAOR,EAAMK,SAASC,KAAKE,MAC3BC,aAAcT,EAAMK,SAASI,aAC7BkE,QAAS3E,EAAME,YAAY+I,YAAYtE,QACvCE,MAAO7E,EAAME,YAAY+I,YAAYpE,SAavClF,EAFaI,CAGbiH,GK1JWkC,EAAW,SAAC,GAAgB,IAAdnC,EAAa,EAAbA,OACzB,OACE,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAaA,OAAQA,MCCrBoC,G,kBACJ,aAAe,IAAD,8BACZ,+CAOFC,SAAW,WAAO,IAAD,EAC2D,EAAKzF,MAAvEU,EADO,EACPA,MAAO7D,EADA,EACAA,MAAO6I,EADP,EACOA,gBAAiBC,EADxB,EACwBA,gBAAiBC,EADzC,EACyCA,cAExDF,IACAtF,EAAayF,KAAK,YAAa,CAAE,MAASnF,GAAS7D,GAChDyD,MAAK,SAACC,GACLoF,IACA,EAAK/C,SAAS,CACZkD,QAAQ,EACRnI,QAAS4C,EAAK5C,aAGjB6C,OAAM,SAACC,GACNmF,EAAcnF,OArBN,EAyBdsF,UAAY,SAAClF,GAAU,IACbf,EAAiCe,EAAjCf,GAAIT,EAA6BwB,EAA7BxB,MAAOkF,EAAsB1D,EAAtB0D,MAAOyB,EAAenF,EAAfmF,WAC1B,OACE,wBAAIpH,IAAKkB,GACP,4BAAKT,GACL,4BAAKkF,GACL,4BAAKyB,KA/BG,EAoCdC,gBAAkB,WAChB,OACE,yBAAKhJ,UAAU,yBACb,uBAAGA,UAAS,uCACZ,uBAAGA,UAAU,iBAAb,mBAxCQ,EA6CdiJ,iBAAmB,SAACxF,EAAOyF,GACzB,OACE,yBAAKlJ,UAAU,iBACb,+BACE,+BACA,4BACE,2CACA,sCACA,8CAGF,+BACCyD,EAAMb,IAAI,EAAKkG,aAGlB,yBAAK9I,UAAU,SAAf,kBAAuCkJ,KA5D/B,EAiEdC,gBAAkB,WAAO,IAAD,EACuB,EAAKpG,MAA1CqG,EADc,EACdA,YAAa3F,EADC,EACDA,MAAOyF,EADN,EACMA,MAAOjF,EADb,EACaA,MADb,EAEM,EAAK7E,MAAzBsB,EAFc,EAEdA,QAASmI,EAFK,EAELA,OAEjB,OAAI5E,EACK,kBAAC,EAAD,MAEL4E,EACK,yBAAK7I,UAAU,oBAAoBU,GAExC0I,EACK,EAAKJ,kBAEL,EAAKC,iBAAiBxF,EAAOyF,IA5EtC,EAAK9J,MAAQ,CACXyJ,QAAQ,EACRnI,QAAS,MAJC,E,sEAkFJ,IAAD,EAC0BG,KAAKkC,MAA9BqG,EADD,EACCA,YAAarF,EADd,EACcA,QACfsF,EAAUD,EAAc,gBAAkB,cAEhD,OACE,yBAAKpJ,UAAU,kBACb,4BAAQA,UAAS,cAASqJ,GAClBnJ,QAASW,KAAK2H,SACdc,SAAUF,GAFlB,YAKCrF,EAAU,kBAAC,EAAD,MAAclD,KAAKsI,uB,GA9FnB9E,IAAMC,YA6GnBvF,EAAqB,CACzB0J,gBHtGsB,WACtB,MAAO,CACLxJ,KClB4B,qBEuH9ByJ,gBHjGsB,WACtB,MAAO,CACLzJ,KCvB4B,qBEuH9B0J,cH5FoB,SAAC1E,GACrB,MAAO,CACLhF,KC5B4B,mBD6B5BuF,QAASP,KG4FE9E,eAfS,SAACC,GAAD,MAAY,CAClCqE,MAAOrE,EAAME,YAAYC,KAAK0H,UAC9BiC,MAAO9J,EAAME,YAAYC,KAAKgK,WAC9BH,YAAahK,EAAME,YAAYC,KAAK6J,YACpCxJ,MAAOR,EAAMK,SAASC,KAAKE,MAC3BmE,QAAS3E,EAAME,YAAYC,KAAKwE,QAChCE,MAAO7E,EAAME,YAAYC,KAAK0E,SAW9BlF,EAFaI,CAGboJ,GC3HWiB,EAAW,WACtB,OACE,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,QCEAC,G,kBACJ,aAAe,IAAD,8BACZ,+CAQFxE,SAAW,YAAiB,IAAdL,EAAa,EAAbA,OACZ,EAAKe,SAAS,CACZnG,SAAUoF,EAAO7C,SAXP,EAedyE,SAAW,SAACC,GACVA,EAAEC,iBADc,IAERlH,EAAa,EAAKJ,MAAlBI,SAFQ,EAG+C,EAAKuD,MAA5DjD,EAHQ,EAGRA,QAAS4J,EAHD,EAGCA,cAAeC,EAHhB,EAGgBA,cAAeC,EAH/B,EAG+BA,YAE/CF,IACAvG,EAAayF,KAAK,UAAW,CAAE,SAAYpJ,IACxC6D,MAAK,SAACC,GACLqG,EAAcrG,GACduG,EAAoB7H,QAAQ,WAAYsB,GACxCxD,EAAQK,KAAR,aAEDoD,OAAM,SAACC,GACNoG,EAAYpG,OA1BhB,EAAKpE,MAAQ,CACXI,SAAU,GACVsK,UAAW,EACXC,UAAW,IALD,E,sEAgCJ,IAAD,EACqClJ,KAAKzB,MAAzCI,EADD,EACCA,SAAUsK,EADX,EACWA,UAAYC,EADvB,EACuBA,UADvB,EAEkClJ,KAAKkC,MAAtClD,EAFD,EAECA,aAAckE,EAFf,EAEeA,QAASE,EAFxB,EAEwBA,MACzB0D,EAAWnI,EAASwK,QAAUF,GAAatK,EAASwK,QAAUD,EAAa,WAAa,aAE9F,OAAIhG,EACK,kBAAC,EAAD,MAGLE,EACK,kBAAC,EAAD,MAGLpE,EACK,yBAAKG,UAAU,sBAAf,8BAIP,yBAAKA,UAAU,2DACb,0BAAMA,UAAU,wCACVwG,SAAU3F,KAAK2F,UACnB,2BAAOxG,UAAU,wCAAwCgI,QAAQ,iBAC/D,uCACA,yBAAKhI,UAAU,iDACb,2BAAOf,KAAK,OACLe,UAAS,uBAAkB2H,GAC3B1C,SAAUpE,KAAKoE,SACf8E,UAAWA,EACXD,UAAWA,EACX/H,MAAOvC,EACPwF,YAAY,gBACZnC,GAAG,gBACHsF,UAAQ,IACf,yBAAKnI,UAAU,kDAAf,sBAEE,yBAAKI,IAAI,qEAAqEC,IAAI,SAASL,UAAU,gCAEvG,yBAAKA,UAAU,gDACb,yBAAKI,IAAI,qEAAqEC,IAAI,SAASL,UAAU,gCAI3G,4BAAQA,UAAU,gCACVf,KAAK,UADb,iB,GA3EWoF,IAAMC,YA6FrBvF,EAAqB,CACzB2K,crBjGoB,WACpB,MAAO,CACLzK,KCT2B,oBoByG7B0K,crB5FoB,SAACjK,GACrB,MAAO,CACLT,KCd2B,kBDe3BuF,QAAS9E,IqB0FXkK,YrBtFkB,SAAC3F,GACnB,MAAO,CACLhF,KCpB2B,kBDqB3BuF,QAASP,KqBsFE/E,cACbC,aAfsB,SAACC,GACvB,MAAO,CACLS,aAAcT,EAAMK,SAASI,aAC7BkE,QAAS3E,EAAMK,SAASsE,QACxBE,MAAO7E,EAAMK,SAASwE,SAYLlF,EADnBI,CAEEsK,IC5GSQ,EAAa,WACxB,OACE,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,QCLOC,G,MAAW,WACtB,OACE,yBAAKlK,UAAU,aAAf,eCFSmK,EAAe,WAC1B,OACC,kBAAC,EAAD,OCcYhL,eAJS,SAACC,GAAD,MAAY,CAClCS,aAAcT,EAAMK,SAASI,gBAGhBV,EAdM,SAAC,GAAD,IAAcmF,EAAd,EAAG8F,UAAsBvK,EAAzB,EAAyBA,aAAiBwK,EAA1C,mDACnB,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAACvH,GAAD,OAAYlD,EAElB,kBAACyE,EAAcvB,GADf,kBAAC,EAAD,aCgCS5D,G,MAAAA,aAPS,SAACC,GACvB,MAAO,CACLS,aAAcT,EAAMK,SAASI,aAC7B0K,cAAenL,EAAMqF,SAAS8F,iBAInBpL,EAjCH,SAAC,GAAsB,IAApBU,EAAmB,EAAnBA,aACb,OACE,yBAAKG,UAAU,aACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUwK,KAAK,IACLvK,GAAIJ,EAAe,SAAW,UAC9B4K,OAAK,IAEf,kBAAC,IAAD,CAAOC,KAAK,UAAUN,UAAWH,IACjC,kBAAC,EAAD,CAAcS,KAAK,SAASN,UAAWO,EAAWF,OAAK,IACvD,kBAAC,EAAD,CAAcC,KAAK,QAAQN,UAAWZ,IACtC,kBAAC,EAAD,CAAckB,KAAK,aACLN,UAAW,YAA6B,IAA3BQ,EAA0B,EAA1BA,MAAOL,EAAmB,EAAnBA,cACX1H,EAAM+H,EAAMC,OAAZhI,GACP,OAAIA,GAAM0H,GAAiB,IAClB,kBAAC,EAAD,MAEF,kBAAC,EAAD,CAAUpE,OAAQtD,OAGzC,kBAAC,IAAD,CAAOuH,UAAWD,UCzBbW,EAAb,YACE,aAAe,IAAD,8BACZ,+CACK1L,MAAQ,CACX2L,UAAU,GAHA,EADhB,iFASIlK,KAAK8E,SAAS,CAAEoF,UAAU,MAT9B,+BAaI,OAAIlK,KAAKzB,MAAM2L,SACN,kBAAC,EAAD,MAGFlK,KAAKkC,MAAMiI,aAjBtB,GAAkC3G,IAAMC,W,gCCSlC2G,GAAe,CACnB5C,YAAa,CACXnG,KAAM,KACNiE,OAAQ,KACRY,SAAU,EACVC,SAAU,EACVjD,SAAS,EACTE,MAAO,MAET1E,KAAM,CACJ0H,UAAW,GACXsC,WAAY,EACZlK,YAAa,EACb+J,aAAa,EACbrF,SAAS,EACTE,MAAO,OAILiH,GAAkB,SAACjE,EAAWrD,EAAMuH,GACxC,OAAa,IAATA,EACI,GAAN,oBACKlE,GADL,CAEErD,IAGE,GAAN,oBACKqD,EAAUmE,MAAM,EAAGD,IADxB,CAEEvH,GAFF,aAGKqD,EAAUmE,MAAMD,EAAM,MAIvBE,GAAiB,SAACnJ,EAAM0B,EAAM0D,GAClC,GAAI1D,EAAM,CACR,IAAMsF,EAAQtF,EAAKmF,WAAa7G,EAAKI,MAAQgF,EAC7C,OAAO,eACF1D,EADL,CAEE0D,MAAO1D,EAAK0D,MAAQA,EACpByB,WAAYxC,WAAY2C,EAAOpB,QAAQ,MAGzC,OAAO,eACFlE,EADL,CAEEf,GAAIX,EAAKW,GACTyE,MAAOA,EACPyB,WAAYxC,YAAYrE,EAAKI,MAAQgF,GAAOQ,QAAQ,IACpD1F,MAAOF,EAAKE,SCnDZ6I,GAAe,CACnBtI,MAAO,GACP4H,cAAe,KACf7G,WAAY,GACZM,YAAa,MACbD,SAAS,EACTE,MAAO,MCNHgH,GAAe,CACnBvL,KAAM,CACJF,SAAU,KACVG,OAAQ,KACRC,MAAO,MAETC,cAAc,EACdkE,SAAS,EACTE,MAAO,MCXIqH,GAAUC,0BAAgB,CACrC9G,SFWsB,WAAmC,IAAlCrF,EAAiC,uDAAzB6L,GAAcO,EAAW,uCAChDvM,EAAkBuM,EAAlBvM,KAAMuF,EAAYgH,EAAZhH,QACd,OAAQvF,GACN,IpBpB+B,sBoBqB7B,OAAO,eACFG,EADL,CAEEuD,MAAO,GACPoB,SAAS,IAEb,IpBzB+B,sBoB0B7B,OAAO,eACF3E,EADL,CAEEuD,MAAO6B,EACP+F,cAAe/F,EAAQwF,OACvBjG,SAAS,IAEb,IpB/B+B,sBoBgC7B,OAAO,eACF3E,EADL,CAEEuD,MAAO,GACPoB,SAAS,EACTE,MAAOO,IAEX,IpBrCwB,eoBsCtB,OAAO,eACFpF,EADL,CAEEsE,WAAYc,EAAQd,aAExB,IpBzCwB,eoB0CtB,OAAO,eACFtE,EADL,CAEE4E,YAAaQ,EAAQR,cAGzB,QACE,OAAO5E,IE7CXE,YHyDyB,WAAmC,IAAlCF,EAAiC,uDAAzB6L,GAAcO,EAAW,uCACnDvM,EAAkBuM,EAAlBvM,KAAMuF,EAAYgH,EAAZhH,QACd,OAAQvF,GACN,IbnE8B,qBaoE5B,OAAO,eACFG,EADL,CAEEiJ,YAAY,eACPjJ,EAAMiJ,YADA,CAETnG,KAAM,GACN6B,SAAS,MAGf,Ib3E8B,qBa4E5B,OAAO,eACF3E,EADL,CAEEiJ,YAAY,eACPjJ,EAAMiJ,YADA,CAETnG,KAAMsC,EACNuC,SAAUvC,EAAQ8C,MAClBvD,SAAS,MAGf,IbpF8B,qBaqF5B,OAAO,eACF3E,EADL,CAEEiJ,YAAY,eACPjJ,EAAMiJ,YADA,CAETnG,KAAM,GACN6B,SAAS,EACTE,MAAOO,MAGb,IX/F4B,mBWgG1B,OAAO,eACFyG,GADL,CAEE1L,KAAK,eACA0L,GAAa1L,KADd,CAEFwE,SAAS,MAGf,IXtG4B,mBWuG1B,OAAO,eACFkH,GADL,CAEE1L,KAAK,eACA0L,GAAa1L,KADd,CAEFwE,SAAS,MAGf,IX7G4B,mBW8G1B,OAAO,eACFkH,GADL,CAEE1L,KAAK,eACA0L,GAAa1L,KADd,CAEFwE,SAAS,EACTE,MAAOO,MAGb,IXzH8B,qBWyH9B,IACUtC,EAAS9C,EAAMiJ,YAAfnG,KADV,EAEiD9C,EAAMG,KAA7C0H,EAFV,EAEUA,UAAWsC,EAFrB,EAEqBA,WAAYlK,EAFjC,EAEiCA,YACzBoM,EAAYxE,EAAUE,WAAU,SAACvD,GAAD,OAAUA,EAAKf,KAAO2B,EAAQ2B,UAC9DvC,EAAOqD,EAAUwE,GACjBC,EAAUL,GAAenJ,EAAM0B,EAAMY,EAAQ8C,OAC7CqE,EAAWpF,YAAYgD,EAAarH,EAAKI,MAAQkC,EAAQ8C,OAAOQ,QAAQ,IACxE8D,EAAiBvM,EAAcmF,EAAQ8C,MAE7C,OAAO,eACFlI,EADL,CAEEG,KAAK,eACAH,EAAMG,KADP,CAEF6J,aAAa,EACbnC,UAAWiE,GAAgBjE,EAAWyE,EAASD,GAC/ClC,WAAYoC,EACZtM,YAAauM,MAInB,QACE,OAAOxM,IGtIXK,SDWsB,SAACL,EAAOoM,GAC9B,QAAcK,IAAVzM,EACF,OAAIyC,aAAapC,SACR,CACLC,KAAMmK,EAAoB/H,QAAQ,YAClCjC,cAAc,GAGToL,GAR8B,IAYjChM,EAAkBuM,EAAlBvM,KAAMuF,EAAYgH,EAAZhH,QACd,OAAQvF,GACN,I7BjC2B,kB6BkCzB,OAAO,eACFG,EADL,CAEE2E,SAAS,IAEb,I7BrC2B,kB6BsCzB,MAAO,CACLrE,KAAK,eACA8E,GAEL3E,cAAc,EACdkE,SAAS,GAEb,I7B5C2B,kB6B6CzB,OAAO,eACFkH,GADL,CAEEhH,MAAOO,IAEX,I7BhDoB,W6BkDlB,OADA3C,aAAaiK,QACN,eACFb,IAGP,QACE,OAAO7L,MEtDA2M,GAAQC,sBACnBV,GACAW,iCCGFC,IAAS5B,OACP,kBAAC,IAAD,CAAUyB,MAAOA,IACf,kBAAC,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,EAAD,SAINvG,SAAS2G,eAAe,W","file":"static/js/main.9c2562b3.chunk.js","sourcesContent":["import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { userSignOut } from '../../actions/signin/actions';\n\nimport './header.scss';\n\nconst Header = ({ username, avatar, isAuthorized, booksInCart, history, userSignOut }) => {\n  const signOut = () => {\n    userSignOut();\n    history.push(`/signin`);\n  };\n\n  const authorized = (\n    <div className=\"shop-menu\">\n      <Link to=\"/cart\">\n        <i className=\"cart fa fa-shopping-cart\"/>\n        <span className=\"cart-count\">{booksInCart}</span>\n      </Link>\n      <div className=\"menu-item\">\n        <button className=\"btn btn-primary\"\n                onClick={signOut}\n        >\n          Sign-Out\n        </button>\n      </div>\n      <div className=\"menu-item row\">\n        <img src={avatar} alt=\"avatar\" className=\"rounded-circle\"/>\n        <div className=\"user-name\">{username}</div>\n      </div>\n    </div>\n  );\n\n  return (\n    <header className=\"shop-header row\">\n      <Link to=\"/books\">\n        <div className=\"logo\">JS BAND STORE / Oleksandr Romanov</div>\n      </Link>\n      {isAuthorized ? authorized : null}\n    </header>\n  )\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    booksInCart: state.bookAndCart.cart.booksInCart,\n    username: state.userData.user.username,\n    avatar: state.userData.user.avatar,\n    token: state.userData.user.token,\n    isAuthorized: state.userData.isAuthorized\n  }\n};\n\nconst mapDispatchToProps = {\n  userSignOut\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(Header)\n);\n","import {\n  SIGN_IN_REQUEST,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_FAILURE,\n  SIGN_OUT\n} from './types';\n\nconst signInRequest = () => {\n  return {\n    type: SIGN_IN_REQUEST\n  }\n};\n\nconst signInSuccess = (user) => {\n  return {\n    type: SIGN_IN_SUCCESS,\n    payload: user\n  }\n};\n\nconst signInError = (error) => {\n  return {\n    type: SIGN_IN_FAILURE,\n    payload: error\n  };\n};\n\nconst userSignOut = () => {\n  return {\n    type: SIGN_OUT\n  }\n};\n\nexport {\n  signInRequest,\n  signInSuccess,\n  signInError,\n  userSignOut\n};\n","export const SIGN_IN_REQUEST = 'SIGN_IN_REQUEST';\nexport const SIGN_IN_SUCCESS = 'SIGN_IN_SUCCESS';\nexport const SIGN_IN_FAILURE = 'SIGN_IN_FAILURE';\nexport const SIGN_OUT = 'SIGN_OUT';\n","class StoreService {\n  _url = 'https://js-band-api.glitch.me';\n\n  errObj = (url, status) => {\n    return {\n      message: `Invalid request: ${url}, status ${status}`,\n      status: status\n    };\n  };\n\n  async fetchData(url, option) {\n    const res = await fetch(`${this._url}${url}`, option);\n    if (!res.ok) {\n      throw this.errObj(`${this._url}${url}`, res.status);\n    }\n    return res.json();\n  }\n\n  async get(url, token) {\n    return this.fetchData(url, {\n      mode: 'cors',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  }\n\n  post(url, body, token) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    if (token) {\n      headers.Authorization = `Bearer ${token}`;\n    }\n\n    return this.fetchData(url, {\n      method: 'POST',\n      mode: 'cors',\n      headers,\n      body: JSON.stringify(body)\n    });\n  }\n}\n\nexport default new StoreService();\n","class LocalStorage {\n  constructor() {\n    if (LocalStorage.instance) {\n      return LocalStorage.instance\n    }\n    LocalStorage.instance = this;\n    return this;\n  }\n\n  getItem(key) {\n    return JSON.parse(localStorage.getItem(`${key}`));\n  }\n\n  setItem(key, value) {\n    return localStorage.setItem(`${key}`, JSON.stringify(value));\n  }\n}\n\nexport default new LocalStorage();\n","import React from 'react';\nimport './bookListItem.scss';\n\nexport const BookListItem = ({ book, onView }) => {\n  const { title, author, price, cover } = book;\n  return (\n    <div className=\"book-list-item\">\n      <img src={cover} alt=\"cover\" className=\"cart-img-top\"/>\n      <div className=\"book-details\">\n        <div className=\"book-title\">{title}</div>\n        <div className=\"book-author\">{author}</div>\n      </div>\n      <div className=\"book-footer\">\n        <div className=\"book-price\">{price} $</div>\n        <button\n          onClick={onView}\n          className=\"btn btn-primary\"\n        >\n          View\n        </button>\n      </div>\n    </div>\n  )\n};\n","import React from 'react';\nimport './spinner.scss';\n\nexport const Spinner = () => {\n  return (\n    <div className=\"spinner\">\n      <div className=\"loadingio-spinner-double-ring-5gwf7wyqw2d\">\n        <div className=\"ldio-mrii3anle\">\n          <div> </div>\n          <div> </div>\n          <div>\n            <div> </div>\n          </div>\n          <div>\n            <div> </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};\n","import React from 'react';\nimport './errorIndicator.scss';\n\nexport const ErrorIndicator = ({ status }) => {\n  return (\n    <>\n    <div className=\"error-indicator\">\n      Ops... Something went wrong\n      {status &&  <p>Try Re-Sign-In</p>}\n    </div>\n    </>\n  )\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { StoreService } from '../../services';\nimport { booksRequested, booksLoaded, booksError } from '../../actions/books/actions';\nimport { BookListItem } from '../BookListItem';\nimport { Spinner } from '../Spinner';\nimport { ErrorIndicator } from '../ErrorIndicator';\n\nimport './bookList.scss';\n\nconst BookList = ({ books, onView }) => {\n  return (\n    <ul className=\"book-list\">\n      {\n        books.map((book) => {\n          return (\n            <li key={book.id}>\n              <BookListItem\n                book={book}\n                onView={() => onView(book.id)} />\n            </li>\n          )\n        })\n      }\n    </ul>\n  )\n};\n\nclass BookListContainer extends React.Component {\n  componentDidMount() {\n    const { booksLoaded, booksRequested, booksError, token } = this.props;\n\n    booksRequested();\n    StoreService.get('/books', token)\n      .then((data) => booksLoaded(data))\n      .catch((err) => {\n        booksError(err)\n      })\n  }\n\n  search(items, searchText) {\n    if (searchText === 0) {\n      return items;\n    }\n\n    return items.filter(item => {\n      return item.title.toLowerCase().indexOf(searchText.toLowerCase()) > -1;\n    });\n  }\n\n  filterByPrice(items, price) {\n    switch (price) {\n      case 'all':\n        return items;\n      case '0-15':\n        return items.filter((item) => item.price >= 0 && item.price < 15);\n      case '15-30':\n        return items.filter((item) => item.price >= 15 && item.price <= 30);\n      case '>30':\n        return items.filter((item) => item.price > 30);\n      default:\n        return items;\n    }\n  }\n\n  render() {\n    const {\n      books, loading, searchText,\n      filterPrice, onView, isAuthorized,\n      error\n    } = this.props;\n\n    if (loading) {\n      return <Spinner/>\n    }\n\n    if (error) {\n      if (error.status === 401) {\n        return <ErrorIndicator status={error.status}/>\n      }\n      return <ErrorIndicator />\n    }\n\n    if (!isAuthorized) {\n      return <div>Not Found</div>\n    }\n\n    if (books) {\n      const visibleBooks = this.filterByPrice(\n        this.search(books, searchText),\n        filterPrice\n      );\n\n      return <BookList\n        onView={onView}\n        books={visibleBooks} />;\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    books: state.bookList.books,\n    searchText: state.bookList.searchText,\n    filterPrice: state.bookList.filterPrice,\n    token: state.userData.user.token,\n    isAuthorized: state.userData.isAuthorized,\n    loading: state.bookList.loading,\n    error: state.bookList.error\n  }\n};\n\nconst mapDispatchToProps = {\n  booksLoaded,\n  booksRequested,\n  booksError\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookListContainer);\n","import {\n  FETCH_BOOKS_FAILURE,\n  FETCH_BOOKS_REQUEST,\n  FETCH_BOOKS_SUCCESS,\n  SEARCH_BOOKS,\n  FILTER_BOOKS\n} from './types';\n\nconst booksRequested = () => {\n  return {\n    type: FETCH_BOOKS_REQUEST\n  }\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: FETCH_BOOKS_SUCCESS,\n    payload: newBooks\n  }\n};\n\nconst booksError = (error) => {\n  return {\n    type: FETCH_BOOKS_FAILURE,\n    payload: error\n  };\n};\n\nconst searchBooks = (searchText) => ({\n  type: SEARCH_BOOKS,\n  payload: {\n    searchText\n  }\n});\n\nconst filterBooks = (filterPrice) => ({\n  type: FILTER_BOOKS,\n  payload: {\n    filterPrice\n  }\n});\n\nexport {\n  booksRequested,\n  booksLoaded,\n  booksError,\n  searchBooks,\n  filterBooks\n};\n","export const FETCH_BOOKS_REQUEST = 'FETCH_BOOKS_REQUEST';\nexport const FETCH_BOOKS_SUCCESS = 'FETCH_BOOKS_SUCCESS';\nexport const FETCH_BOOKS_FAILURE = 'FETCH_BOOKS_FAILURE';\nexport const SEARCH_BOOKS = 'SEARCH_BOOKS';\nexport const FILTER_BOOKS = 'FILTER_BOOKS';\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { searchBooks, filterBooks } from '../../actions/books/actions';\n\nimport './filter.scss';\n\nclass Filter extends React.Component {\n  onSearchChange = ({ target }) => {\n    const { searchBooks } = this.props;\n    const searchText = target.value;\n\n    searchBooks(searchText);\n  };\n\n  handleFilterChange = ({ target }) => {\n    const { filterBooks } = this.props;\n    const filterPrice = target.value;\n\n    filterBooks(filterPrice);\n  };\n\n  render() {\n    const { searchText, filterPrice } = this.props;\n\n    return (\n      <div className=\"filter-wrapper\">\n        <input\n          type=\"search\"\n          className=\"form-control\"\n          placeholder=\"search by title\"\n          onChange={this.onSearchChange}\n          value={searchText}\n        />\n        <select\n          className=\"select-status select\"\n          key=\"status\"\n          onChange={this.handleFilterChange}\n          value={filterPrice}\n        >\n          <option value=\"all\">Price</option>\n          <option value=\"0-15\">0-15</option>\n          <option value=\"15-30\">15-30</option>\n          <option value=\">30\">&gt;30</option>\n        </select>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  searchBooks,\n  filterBooks\n};\n\nconst mapStateToProps = state => ({\n  searchText: state.bookList.searchText,\n  filterPrice: state.bookList.filterPrice,\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Filter);\n","import React from 'react';\nimport './scrollArrow.scss'\n\nexport class ScrollArrow extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isScrolled: false\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.trackScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.trackScroll);\n  }\n\n  trackScroll = () => {\n    const scrolled = window.pageYOffset;\n    const coords = document.documentElement.clientHeight;\n\n    if (scrolled > coords) {\n      this.setState({\n        isScrolled: true\n      });\n    }\n    if (scrolled < coords) {\n      this.setState({\n        isScrolled: false\n      });\n    }\n  };\n\n  backToTop = () => {\n    if (window.pageYOffset > 0) {\n      window.scrollBy(0, -100);\n      setTimeout(this.backToTop, 0);\n    }\n  };\n\n  render() {\n    const isScrolled = (this.state.isScrolled) ? 'show' : '';\n\n    return (\n      <div className={`back-top ${isScrolled}`}\n           title=\"Go to top\"\n           onClick={this.backToTop}>\n        <i className=\"fa fa-arrow-circle-up\" aria-hidden=\"true\"> </i>\n      </div>\n\n    );\n  }\n}\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Header } from '../components/Header';\nimport { BookList } from '../components/BookList';\nimport { Filter } from '../components/Filter';\nimport { ScrollArrow } from '../components/ScrollArrow';\n\nconst BooksPage = ({ history }) => {\n  return (\n    <>\n      <Header />\n      <Filter />\n      <BookList onView={(bookId) => {\n        history.push(`/books/${bookId}`);\n      }} />\n      <ScrollArrow />\n    </>\n  );\n};\n\nexport default withRouter(BooksPage);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { StoreService } from '../../services';\nimport { Spinner } from '../Spinner';\nimport { ErrorIndicator } from '../ErrorIndicator';\nimport { bookAddedToCart } from '../../actions/cart/actions';\nimport { bookRequested, bookLoaded, bookError } from '../../actions/book/actions';\n\nimport './bookDetails.scss';\n\nclass BookDetails extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      booksCount: 1\n    }\n  }\n\n  componentDidMount() {\n    const {\n      bookLoaded,\n      bookRequested,\n      bookError,\n      bookId,\n      token\n    } = this.props;\n\n    bookRequested();\n    StoreService.get(`/books/${bookId}`, token)\n      .then((data) => {\n        bookLoaded(data);\n      })\n      .catch((err) => {\n        bookError(err);\n      })\n  }\n\n  onCountChange = ({target}) => {\n    this.setState({\n      booksCount: parseFloat(target.value)\n    });\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const {book, bookAddedToCart} = this.props;\n    const {booksCount} = this.state;\n\n    bookAddedToCart(book.id, booksCount);\n    this.setState({\n      booksCount: 0\n    });\n  };\n\n  render() {\n    const {\n      book, loading,\n      maxCount, minCount,\n      cartItems, isAuthorized,\n      error\n    } = this.props;\n    const {booksCount} = this.state;\n\n    const cartBookIndex = cartItems.findIndex((item) => item.id === book.id);\n    const cartBook = cartItems[cartBookIndex];\n    const cartBookCount = cartBook ? cartBook.count : 0;\n\n    if (loading) {\n      return <Spinner/>\n    }\n\n    if (error) {\n      if (error.status === 401) {\n        return <ErrorIndicator status={error.status}/>\n      }\n      return <ErrorIndicator />\n    }\n\n    if (!isAuthorized) {\n      return <div>Not Found</div>\n    }\n\n    if (book) {\n      const {\n        title, author, level, tags, cover, description, price\n      } = book;\n      const maxValue = maxCount - cartBookCount;\n      const isValid = (booksCount <= maxValue || isNaN(booksCount)) ? 'is-valid' : 'is-invalid';\n      const calcTotal = (price * booksCount).toFixed(2);\n      const isTotalNumber = isNaN(booksCount) ? 0 : calcTotal;\n\n      return (\n        <main className=\"container book-page\">\n          <div className=\"book-details-wrapper\">\n            <div className=\"main-details\">\n              <img src={cover} alt=\"cover\" className=\"cart-img\"/>\n              <div className=\"book-details\">\n                <div className=\"book-title\"><b>Title: </b>{title}</div>\n                <div className=\"book-author\"><b>Author: </b>{author}</div>\n                <div className=\"book-level\"><b>Level: </b>{level}</div>\n                <div className=\"book-tags\"><b>Tags: </b>{tags}</div>\n              </div>\n            </div>\n            <div className=\"description\"><b>Description: </b>{description}</div>\n          </div>\n          <form className=\"price-wrapper\" onSubmit={this.onSubmit}>\n            <div className=\"price-counter\">\n              <div className=\"price-item\"><b>Price, $</b><b>{price}</b></div>\n              <label className=\"counter-wrapper\" htmlFor=\"count-input\">\n                <b>Count</b>\n                <div className=\"input-wrapper\">\n                  <input type=\"number\"\n                         className={`counter form-control ${isValid}`}\n                         onChange={this.onCountChange}\n                         max={maxValue}\n                         min={minCount}\n                         value={booksCount}\n                         id=\"count-input\"\n                         required/>\n                  <div className=\"invalid-feedback\">We don&apos;t have so much =(</div>\n                </div>\n              </label>\n              <div className=\"price-item\"><b>Total price</b><b>{isTotalNumber}</b></div>\n            </div>\n            <button className=\"btn btn-primary add-to-cart\"\n                    type=\"submit\">\n              Add to cart\n            </button>\n          </form>\n        </main>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    book: state.bookAndCart.bookDetails.book,\n    maxCount: state.bookAndCart.bookDetails.maxCount,\n    minCount: state.bookAndCart.bookDetails.minCount,\n    cartItems: state.bookAndCart.cart.cartItems,\n    token: state.userData.user.token,\n    isAuthorized: state.userData.isAuthorized,\n    loading: state.bookAndCart.bookDetails.loading,\n    error: state.bookAndCart.bookDetails.error\n  }\n};\n\nconst mapDispatchToProps = {\n  bookLoaded,\n  bookRequested,\n  bookError,\n  bookAddedToCart\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookDetails);\n","import {\n  FETCH_BOOK_REQUEST,\n  FETCH_BOOK_SUCCESS,\n  FETCH_BOOK_FAILURE\n} from './types';\n\nconst bookRequested = () => {\n  return {\n    type: FETCH_BOOK_REQUEST\n  }\n};\n\nconst bookLoaded = (newBook) => {\n  return {\n    type: FETCH_BOOK_SUCCESS,\n    payload: newBook\n  }\n};\n\nconst bookError = (error) => {\n  return {\n    type: FETCH_BOOK_FAILURE,\n    payload: error\n  };\n};\n\nexport {\n  bookRequested,\n  bookLoaded,\n  bookError\n};\n","export const FETCH_BOOK_REQUEST = 'FETCH_BOOK_REQUEST';\nexport const FETCH_BOOK_SUCCESS = 'FETCH_BOOK_SUCCESS';\nexport const FETCH_BOOK_FAILURE = 'FETCH_BOOK_FAILURE';\n","import {\n  BOOK_ADDED_TO_CART,\n  PURCHASE_REQUEST,\n  PURCHASE_SUCCESS,\n  PURCHASE_FAILURE\n} from './types';\n\nconst bookAddedToCart = (bookId, count) => {\n  return {\n    type: BOOK_ADDED_TO_CART,\n    payload: {\n      bookId,\n      count\n    }\n  }\n};\n\nconst purchaseRequest = () => {\n  return {\n    type: PURCHASE_REQUEST\n  }\n};\n\nconst purchaseSuccess = () => {\n  return {\n    type: PURCHASE_SUCCESS\n  }\n};\n\nconst purchaseError = (error) => {\n  return {\n    type: PURCHASE_FAILURE,\n    payload: error\n  }\n};\n\nexport {\n  bookAddedToCart,\n  purchaseRequest,\n  purchaseSuccess,\n  purchaseError\n};\n","export const BOOK_ADDED_TO_CART = 'BOOK_ADDED_TO_CART';\nexport const PURCHASE_REQUEST = 'PURCHASE_REQUEST';\nexport const PURCHASE_SUCCESS = 'PURCHASE_SUCCESS';\nexport const PURCHASE_FAILURE = 'PURCHASE_FAILURE';\n","import React from 'react';\nimport { Header } from '../components/Header';\nimport { BookDetails } from '../components/BookDetails';\n\nexport const BookPage = ({ bookId }) => {\n  return (\n    <>\n      <Header />\n      <BookDetails bookId={bookId}/>\n    </>\n  );\n};\n","import React  from 'react';\nimport { connect } from 'react-redux';\nimport { StoreService } from '../../services';\nimport { purchaseRequest, purchaseSuccess, purchaseError } from '../../actions/cart/actions';\nimport { Spinner } from '../Spinner';\nimport { ErrorIndicator } from '../ErrorIndicator';\n\nimport './cart.scss'\n\nclass Cart extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isShow: false,\n      message: null\n    };\n  }\n\n  purchase = () => {\n    const { items, token, purchaseRequest, purchaseSuccess, purchaseError } = this.props;\n\n    purchaseRequest();\n    StoreService.post('/purchase', { \"books\": items }, token)\n      .then((data) => {\n        purchaseSuccess();\n        this.setState({\n          isShow: true,\n          message: data.message\n        });\n      })\n      .catch((err) => {\n        purchaseError(err)\n      });\n  };\n\n  renderRow = (item) => {\n    const { id, title, count, totalPrice } = item;\n    return (\n      <tr key={id}>\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>{totalPrice}</td>\n      </tr>\n    )\n  };\n\n  renderEmptyCart = () => {\n    return (\n      <div className=\"container text-center\">\n        <i className={`cart fa fa-shopping-cart cartEmpty`}/>\n        <p className=\"cartEmptyText\">Cart empty...</p>\n      </div>\n    );\n  };\n\n  renderFilledCart = (items, total) => {\n    return (\n      <div className=\"table-wrapper\">\n        <table>\n          <thead>\n          <tr>\n            <th>Book title:</th>\n            <th>Count:</th>\n            <th>Total price:</th>\n          </tr>\n          </thead>\n          <tbody>\n          {items.map(this.renderRow)}\n          </tbody>\n        </table>\n        <div className=\"total\">Total price, $ {total}</div>\n      </div>\n    );\n  };\n\n  renderCartItems = () => {\n    const { isCartEmpty, items, total, error } = this.props;\n    const { message, isShow } = this.state;\n\n    if (error) {\n      return <ErrorIndicator />\n    }\n    if (isShow) {\n      return <div className=\"purchase-message\">{message}</div>\n    }\n    if (isCartEmpty) {\n      return this.renderEmptyCart();\n    } else {\n      return this.renderFilledCart(items, total);\n    }\n  };\n\n  render() {\n    const { isCartEmpty, loading } = this.props;\n    const isEmpty = isCartEmpty ? 'btn-secondary' : 'btn-primary';\n\n    return (\n      <div className=\"cart-container\">\n        <button className={`btn ${isEmpty}`}\n                onClick={this.purchase}\n                disabled={isCartEmpty}>\n          Purchase\n        </button>\n        {loading ? <Spinner /> : this.renderCartItems()}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  items: state.bookAndCart.cart.cartItems,\n  total: state.bookAndCart.cart.orderTotal,\n  isCartEmpty: state.bookAndCart.cart.isCartEmpty,\n  token: state.userData.user.token,\n  loading: state.bookAndCart.cart.loading,\n  error: state.bookAndCart.cart.error\n});\n\nconst mapDispatchToProps = {\n  purchaseRequest,\n  purchaseSuccess,\n  purchaseError\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Cart);\n","import React from 'react';\nimport { Cart } from '../components/Cart';\nimport { Header } from '../components/Header';\n\nexport const CartPage = () => {\n  return (\n    <>\n      <Header />\n      <Cart />\n    </>\n  );\n};\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { StoreService, LocalStorageService }  from '../../services';\nimport { signInRequest, signInSuccess, signInError } from '../../actions/signin/actions';\nimport { Spinner } from '../Spinner';\nimport { ErrorIndicator } from '../ErrorIndicator';\n\nimport './signIn.scss';\n\nclass SignIn extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      minLength: 4,\n      maxLength: 16,\n    }\n  }\n\n  onChange = ({ target }) => {\n    this.setState({\n      username: target.value\n    });\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { username } = this.state;\n    const { history, signInRequest, signInSuccess, signInError } = this.props;\n\n    signInRequest();\n    StoreService.post('/signin', { \"username\": username })\n      .then((data) => {\n        signInSuccess(data);\n        LocalStorageService.setItem('userData', data);\n        history.push(`/books`);\n      })\n      .catch((err) => {\n        signInError(err)\n      })\n  };\n\n  render() {\n    const { username, minLength,  maxLength } = this.state;\n    const { isAuthorized, loading, error } = this.props;\n    const isValid = (username.length >= minLength && username.length <= maxLength) ? 'is-valid' : 'is-invalid';\n\n    if (loading) {\n      return <Spinner/>\n    }\n\n    if (error) {\n      return <ErrorIndicator />\n    }\n\n    if (isAuthorized) {\n      return <div className=\"already-authorized\">You are already authorized</div>\n    }\n\n    return (\n      <div className=\"container d-flex justify-content-center sign-in-wrapper\">\n        <form className=\"d-flex flex-column align-items-center\"\n              onSubmit={this.onSubmit}>\n          <label className=\"d-flex flex-column align-items-center\" htmlFor=\"sign-in-input\">\n            <b>Username</b>\n            <div className=\"d-flex flex-column justify-content-start mt-2\">\n              <input type=\"text\"\n                     className={`form-control ${isValid}`}\n                     onChange={this.onChange}\n                     maxLength={maxLength}\n                     minLength={minLength}\n                     value={username}\n                     placeholder=\"type Username\"\n                     id=\"sign-in-input\"\n                     required />\n              <div className=\"invalid-feedback text-center position-relative\">\n                Field is not valid!\n                <img src=\"https://api.adorable.io/avatars/face/eyes8/nose3/mouth7/dc3545/155\" alt=\"avatar\" className=\"sign-in-avatar invalid-img\"/>\n              </div>\n              <div className=\"valid-feedback text-center position-relative\">\n                <img src=\"https://api.adorable.io/avatars/face/eyes1/nose3/mouth9/28a745/155\" alt=\"avatar\" className=\"sign-in-avatar valid-img\"/>\n              </div>\n            </div>\n          </label>\n          <button className=\"btn btn-primary sign-in w-100\"\n                  type=\"submit\">\n            Sign-In\n          </button>\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthorized: state.userData.isAuthorized,\n    loading: state.userData.loading,\n    error: state.userData.error\n  }\n};\n\nconst mapDispatchToProps = {\n  signInRequest,\n  signInSuccess,\n  signInError\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps, mapDispatchToProps\n  )(SignIn)\n);\n","import React from 'react';\nimport { Header } from '../components/Header';\nimport { SignIn } from '../components/SignIn';\n\nexport const SignInPage = () => {\n  return (\n    <>\n      <Header />\n      <SignIn />\n    </>\n  );\n};\n","import React from 'react';\nimport './notFound.scss'\n\nexport const NotFound = () => {\n  return (\n    <div className=\"not-found\">\n      Not Found\n    </div>\n  );\n};\n","import React from 'react';\nimport { NotFound } from '../components/NotFound';\n\nexport const NotFoundPage = () => {\n  return (\n   <NotFound />\n  );\n};\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { NotFoundPage } from '../../pages';\n\nconst PrivateRoute = ({ component: Component, isAuthorized, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) => !isAuthorized ?\n      <NotFoundPage /> :\n      <Component {...props} />\n    }\n  />\n);\n\nconst mapStateToProps = (state) => ({\n  isAuthorized: state.userData.isAuthorized\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PrivateRoute from '../Routing/PrivateRoute';\nimport { BooksPage, CartPage, SignInPage, BookPage, NotFoundPage } from '../../pages';\n\nimport './app.scss';\n\nconst App = ({ isAuthorized }) => {\n  return (\n    <div className=\"container\">\n      <Switch>\n        <Redirect from=\"/\"\n                  to={isAuthorized ? \"/books\" : \"/signin\"}\n                  exact\n        />\n        <Route path=\"/signin\" component={SignInPage} />\n        <PrivateRoute path=\"/books\" component={BooksPage} exact />\n        <PrivateRoute path=\"/cart\" component={CartPage} />\n        <PrivateRoute path=\"/books/:id\"\n                      component={({match, booksQuantity}) => {\n                        const {id} = match.params;\n                        if (id > (booksQuantity || 77)) {\n                          return <NotFoundPage />\n                        }\n                        return <BookPage bookId={id} />\n                      }}\n                      />\n        <Route component={NotFoundPage} />\n      </Switch>\n    </div>\n  )\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthorized: state.userData.isAuthorized,\n    booksQuantity: state.bookList.booksQuantity\n  }\n};\n\nexport default connect(mapStateToProps)(App);\n","import React from 'react';\nimport { ErrorIndicator } from '../ErrorIndicator';\n\nexport class ErrorBoundry extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      hasError: false\n    }\n  }\n\n  componentDidCatch() {\n    this.setState({ hasError: true })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />\n    }\n\n    return this.props.children;\n  }\n}\n","import {\n  FETCH_BOOK_REQUEST,\n  FETCH_BOOK_SUCCESS,\n  FETCH_BOOK_FAILURE\n} from '../actions/book/types';\nimport {\n  BOOK_ADDED_TO_CART,\n  PURCHASE_REQUEST,\n  PURCHASE_SUCCESS,\n  PURCHASE_FAILURE\n} from '../actions/cart/types';\n\nconst initialState = {\n  bookDetails: {\n    book: null,\n    bookId: null,\n    maxCount: 0,\n    minCount: 0,\n    loading: true,\n    error: null\n  },\n  cart: {\n    cartItems: [],\n    orderTotal: 0,\n    booksInCart: 0,\n    isCartEmpty: true,\n    loading: false,\n    error: null\n  }\n};\n\nconst updateCartItems = (cartItems, item, idx) => {\n  if (idx === -1) {\n    return [\n      ...cartItems,\n      item\n    ]\n  }\n  return [\n    ...cartItems.slice(0, idx),\n    item,\n    ...cartItems.slice(idx + 1)\n  ]\n};\n\nconst updateCartItem = (book, item, count) => {\n  if (item) {\n    const total = item.totalPrice + book.price * count;\n    return {\n      ...item,\n      count: item.count + count,\n      totalPrice: parseFloat((total).toFixed(2))\n    }\n  } else {\n    return {\n      ...item,\n      id: book.id,\n      count: count,\n      totalPrice: parseFloat((book.price * count).toFixed(2)),\n      title: book.title\n    };\n  }\n};\n\nexport const bookAndCart = (state = initialState, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case FETCH_BOOK_REQUEST:\n      return {\n        ...state,\n        bookDetails: {\n          ...state.bookDetails,\n          book: {},\n          loading: true\n        }\n      };\n    case FETCH_BOOK_SUCCESS:\n      return {\n        ...state,\n        bookDetails: {\n          ...state.bookDetails,\n          book: payload,\n          maxCount: payload.count,\n          loading: false\n        }\n      };\n    case FETCH_BOOK_FAILURE:\n      return {\n        ...state,\n        bookDetails: {\n          ...state.bookDetails,\n          book: {},\n          loading: false,\n          error: payload\n        }\n      };\n    case PURCHASE_REQUEST:\n      return {\n        ...initialState,\n        cart: {\n          ...initialState.cart,\n          loading: true\n        }\n      };\n    case PURCHASE_SUCCESS:\n      return {\n        ...initialState,\n        cart: {\n          ...initialState.cart,\n          loading: false\n        }\n      };\n    case PURCHASE_FAILURE:\n      return {\n        ...initialState,\n        cart: {\n          ...initialState.cart,\n          loading: false,\n          error: payload\n        }\n      };\n    case BOOK_ADDED_TO_CART:\n      const { book } = state.bookDetails;\n      const { cartItems, orderTotal, booksInCart } = state.cart;\n      const itemIndex = cartItems.findIndex((item) => item.id === payload.bookId);\n      const item = cartItems[itemIndex];\n      const newItem = updateCartItem(book, item, payload.count);\n      const newTotal = parseFloat((orderTotal + book.price * payload.count).toFixed(2));\n      const newBooksInCart = booksInCart + payload.count;\n\n      return {\n        ...state,\n        cart: {\n          ...state.cart,\n          isCartEmpty: false,\n          cartItems: updateCartItems(cartItems, newItem, itemIndex),\n          orderTotal: newTotal,\n          booksInCart: newBooksInCart\n        }\n      };\n\n    default:\n      return state;\n  }\n};\n","import {\n  FETCH_BOOKS_REQUEST,\n  FETCH_BOOKS_SUCCESS,\n  FETCH_BOOKS_FAILURE,\n  SEARCH_BOOKS,\n  FILTER_BOOKS\n} from '../actions/books/types';\n\nconst initialState = {\n  books: [],\n  booksQuantity: null,\n  searchText: '',\n  filterPrice: 'all',\n  loading: true,\n  error: null\n};\n\nexport const bookList = (state = initialState, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case FETCH_BOOKS_REQUEST:\n      return {\n        ...state,\n        books: [],\n        loading: true\n      };\n    case FETCH_BOOKS_SUCCESS:\n      return {\n        ...state,\n        books: payload,\n        booksQuantity: payload.length,\n        loading: false\n      };\n    case FETCH_BOOKS_FAILURE:\n      return {\n        ...state,\n        books: [],\n        loading: false,\n        error: payload\n      };\n    case SEARCH_BOOKS:\n      return {\n        ...state,\n        searchText: payload.searchText\n      };\n    case FILTER_BOOKS:\n      return {\n        ...state,\n        filterPrice: payload.filterPrice\n      };\n\n    default:\n      return state;\n  }\n};\n","import {\n  SIGN_IN_REQUEST,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_FAILURE,\n  SIGN_OUT\n} from '../actions/signin/types';\nimport { LocalStorageService } from '../services';\n\nconst initialState = {\n  user: {\n    username: null,\n    avatar: null,\n    token: null\n  },\n  isAuthorized: false,\n  loading: false,\n  error: null\n};\n\nexport const userData = (state, action) => {\n  if (state === undefined) {\n    if (localStorage.userData) {\n      return {\n        user: LocalStorageService.getItem('userData'),\n        isAuthorized: true\n      }\n    } else {\n      return initialState\n    }\n  }\n\n  const { type, payload } = action;\n  switch (type) {\n    case SIGN_IN_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case SIGN_IN_SUCCESS:\n      return {\n        user: {\n          ...payload\n        },\n        isAuthorized: true,\n        loading: false\n      };\n    case SIGN_IN_FAILURE:\n      return {\n        ...initialState,\n        error: payload\n      };\n    case SIGN_OUT:\n      localStorage.clear();\n      return {\n        ...initialState\n      };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { bookAndCart } from './bookAndCart';\nimport { bookList } from './bookList';\nimport { userData } from './authorization';\n\nexport const reducer = combineReducers({\n  bookList,\n  bookAndCart,\n  userData\n});\n","import { createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { reducer } from './reducers';\n\nexport const store = createStore(\n  reducer,\n  composeWithDevTools()\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport { App } from './components/App';\nimport { ErrorBoundry } from './components/ErrorBoundry';\nimport { store } from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}