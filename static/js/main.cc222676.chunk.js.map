{"version":3,"sources":["components/Header/Header.js","components/BookListItem/BookListItem.js","services/StoreService.js","components/Spinner/Spinner.js","components/BookList/BookList.js","actions/index.js","components/Filter/Filter.js","pages/HomePage.js","components/Cart/Cart.js","pages/CartPage.js","components/BookDetails/BookDetails.js","components/ErrorBoundry/ErrorBoundry.js","reducers/bookDetails.js","reducers/bookList.js","reducers/index.js","store.js","index.js","components/App/App.js"],"names":["connect","state","isCartEmpty","bookDetails","userName","isEmpty","className","to","src","alt","BookListItem","book","onView","title","author","price","cover","onClick","_url","url","option","fetch","this","res","ok","Error","json","console","log","token","fetchData","mode","headers","Authorization","body","method","JSON","stringify","Spinner","BookList","books","map","key","id","BookListContainer","props","booksLoaded","booksRequested","StoreService","post","then","data","get","items","searchText","filter","item","toLowerCase","indexOf","loading","filterPrice","visibleBooks","filterByPrice","search","React","Component","mapDispatchToProps","newBooks","type","payload","bookList","Filter","onSearchChange","target","searchBooks","value","handleFilterChange","filterBooks","placeholder","onChange","withRouter","history","bookId","push","cartItems","total","orderTotal","onPurchase","count","totalPrice","CartPage","BookDetailsContainer","onCountChange","setState","booksCount","parseFloat","onSubmit","e","preventDefault","bookAddedToCart","bookLoaded","bookRequested","maxCount","minCount","cartBookIndex","findIndex","cartBook","cartBookCount","level","tags","description","maxValue","isValid","isNaN","calcTotal","toFixed","isTotalNumber","htmlFor","max","min","required","newBook","ErrorBoundry","hasError","children","initialState","updateCartItems","idx","slice","updateCartItem","reducer","combineReducers","action","itemIndex","newItem","newTotal","store","createStore","composeWithDevTools","ReactDOM","render","path","component","HomePage","exact","match","params","BookDetails","document","getElementById"],"mappings":"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","file":"static/js/main.cc222676.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './header.css';\nimport { connect } from \"react-redux\";\n\nconst Header = ({userName, isCartEmpty}) => {\n  const isEmpty = isCartEmpty ? '' : 'notEmpty';\n  return (\n    <header className=\"shop-header row\">\n      <Link to=\"/books\">\n        <div className=\"logo\">JS BAND STORE / Oleksandr Romanov</div>\n      </Link>\n      <div className=\"shop-menu\">\n        <Link to=\"/cart\">\n          <i className={`cart fa fa-shopping-cart ${isEmpty}`}/>\n        </Link>\n        <div className=\"menu-item\">\n          <button className=\"btn btn-primary\">Sign-Out</button>\n        </div>\n        <div className=\"menu-item row\">\n          <img src=\"https://api.adorable.io/avatars/100/abott@adorable.png\" alt=\"avatar\" className=\"rounded-circle\"/>\n          <div className=\"userName\">{userName}</div>\n        </div>\n      </div>\n    </header>\n  )\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    isCartEmpty: state.bookDetails.isCartEmpty\n  }\n};\n\nexport default connect(\n  mapStateToProps\n)(Header);\n","import React from 'react';\nimport './bookListItem.css';\n\n\nexport const BookListItem = ({book, onView}) => {\n  const { title, author, price, cover } = book;\n  return (\n    <div className=\"book-list-item\">\n      <img src={cover} alt=\"cover\" className=\"cart-img-top\"/>\n      <div className=\"book-details\">\n        <div className=\"book-title\">{title}</div>\n        <div className=\"book-author\">{author}</div>\n      </div>\n      <div className=\"book-footer\">\n        <div className=\"book-price\">{price} $</div>\n        <button\n          onClick={onView}\n          className=\"btn btn-primary\"\n        >\n          View\n        </button>\n      </div>\n    </div>\n  )\n};\n","class StoreService {\n  _url = 'https://js-band-api.glitch.me';\n\n  async fetchData(url, option) {\n    try {\n      const res = await fetch(`${this._url}${url}`, option);\n      if (!res.ok) {\n        throw new Error('Invalid request');\n      }\n      return await res.json();\n    } catch (err) {\n      console.log('Error');\n    }\n  }\n\n  async get(url, token) {\n    return this.fetchData(url, {\n      mode: 'cors',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  }\n\n  post(url, body) {\n    return this.fetchData(url, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    });\n  }\n}\n\nexport default new StoreService();\n","import React from 'react';\nimport './spinner.css';\n\nexport const Spinner = () => {\n  return (\n    <div className=\"spinner\">\n      <div className=\"loadingio-spinner-double-ring-5gwf7wyqw2d\">\n        <div className=\"ldio-mrii3anle\">\n          <div> </div>\n          <div> </div>\n          <div>\n            <div> </div>\n          </div>\n          <div>\n            <div> </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { BookListItem } from '../BookListItem';\n\nimport StoreService from '../../services/StoreService';\nimport { booksLoaded, booksRequested } from '../../actions';\nimport { Spinner } from '../Spinner';\nimport './bookList.css';\n\nconst BookList = ({ books, onView }) => {\n  return (\n    <ul className=\"book-list\">\n      {\n        books.map((book) => {\n          return (\n            <li key={book.id}>\n              <BookListItem\n                book={book}\n                onView={() => onView(book.id)} />\n            </li>\n          )\n        })\n      }\n    </ul>\n  )\n};\n\nclass BookListContainer extends React.Component {\n  componentDidMount() {\n    const { booksLoaded, booksRequested } = this.props;\n\n    StoreService.post('/signin', { \"username\": \"testUser\" })\n      .then((data) => {\n        console.log(data);\n      });\n\n    booksRequested();\n    StoreService.get('/books', '5686wvoxndcplla5xi8qte')\n      .then((data) => booksLoaded(data));\n  }\n\n  search(items, searchText) {\n    if (searchText === 0) {\n      return items;\n    }\n    return items.filter(item => {\n      return item.title.toLowerCase().indexOf(searchText.toLowerCase()) > -1;\n    });\n  }\n\n  filterByPrice(items, price) {\n    switch (price) {\n      case 'all':\n        return items;\n      case '0-15':\n        return items.filter((item) => item.price >= 0 && item.price < 15);\n      case '15-30':\n        return items.filter((item) => item.price >= 15 && item.price <= 30);\n      case '>30':\n        return items.filter((item) => item.price > 30);\n      default:\n        return items;\n    }\n  }\n\n  render() {\n    const {books, loading, searchText, filterPrice, onView} = this.props;\n    const visibleBooks = this.filterByPrice(\n      this.search(books, searchText),\n      filterPrice\n    );\n\n    if (loading) {\n      return <Spinner/>\n    }\n\n    return <BookList\n        onView={onView}\n        books={visibleBooks}/>;\n\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    books: state.bookList.books,\n    searchText: state.bookList.searchText,\n    filterPrice: state.bookList.filterPrice,\n    loading: state.bookList.loading\n  }\n};\n\nconst mapDispatchToProps = {\n  booksLoaded,\n  booksRequested\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookListContainer);\n","const booksRequested = () => {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  }\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  }\n};\n\nconst bookRequested = () => {\n  return {\n    type: 'FETCH_BOOK_REQUEST'\n  }\n};\n\nconst bookLoaded = (newBook) => {\n  return {\n    type: 'FETCH_BOOK_SUCCESS',\n    payload: newBook\n  }\n};\n\nconst searchBooks = (searchText) => ({\n  type: 'SEARCH_BOOKS',\n  payload: {\n    searchText\n  }\n});\n\nconst filterBooks = (filterPrice) => ({\n  type: 'FILTER_BOOKS',\n  payload: {\n    filterPrice\n  }\n});\n\nconst bookAddedToCart = (bookId, count) => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: {\n      bookId,\n      count\n    }\n  }\n};\n\nexport {\n  booksLoaded,\n  booksRequested,\n  searchBooks,\n  bookLoaded,\n  bookRequested,\n  filterBooks,\n  bookAddedToCart\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { searchBooks, filterBooks } from \"../../actions\";\nimport './filter.css';\n\nclass Filter extends React.Component {\n  onSearchChange = ({ target }) => {\n    const { searchBooks } = this.props;\n    const searchText = target.value;\n\n    searchBooks(searchText);\n  };\n\n  handleFilterChange = ({ target }) => {\n    const { filterBooks } = this.props;\n    const filterPrice = target.value;\n\n    filterBooks(filterPrice);\n  };\n\n  render() {\n    const { searchText, filterPrice } = this.props;\n\n    return (\n      <div className=\"filter-wrapper\">\n        <input\n          type=\"search\"\n          className=\"form-control mr-sm-2\"\n          placeholder=\"search by title\"\n          onChange={this.onSearchChange}\n          value={searchText}\n        />\n        <select\n          className=\"select-status select\"\n          key=\"status\"\n          onChange={this.handleFilterChange}\n          value={filterPrice}\n        >\n          <option value=\"all\">Price</option>\n          <option value=\"0-15\">0-15</option>\n          <option value=\"15-30\">15-30</option>\n          <option value=\">30\">&gt;30</option>\n        </select>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  searchBooks,\n  filterBooks\n};\n\nconst mapStateToProps = state => ({\n  searchText: state.bookList.searchText,\n  filterPrice: state.bookList.filterPrice,\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Filter);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { BookList } from '../components/BookList';\nimport { Filter } from '../components/Filter';\n\nconst HomePage = ({ history }) => {\n  return (\n    <>\n      <Filter />\n      <BookList onView={(bookId) => {\n        history.push(`/books/${bookId}`);\n      }}/>\n    </>\n  );\n};\n\nexport default withRouter(HomePage);\n","import React  from 'react';\nimport { connect } from 'react-redux';\nimport './cart.css'\n\nconst Cart = ({ items, total, onPurchase, isCartEmpty }) => {\n  const renderRow = (item) => {\n    const { id, title, count, totalPrice } = item;\n    return (\n      <tr key={id}>\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>{totalPrice}</td>\n      </tr>\n    )\n  };\n\n  if (isCartEmpty) {\n    return (\n      <div className=\"container text-center\">\n        <i className={`cart fa fa-shopping-cart cartEmpty`} />\n        <p className=\"cartEmptyText\">Cart empty...</p>\n      </div>\n    )\n  }\n\n\n  return (\n   <div className=\"cart-container\">\n      <button className=\"btn btn-secondary\"\n              onClick={onPurchase}>Purchase\n      </button>\n      <div className=\"table-wrapper\">\n        <table>\n          <thead>\n          <tr>\n            <th>Book title:</th>\n            <th>Count:</th>\n            <th>Total price:</th>\n          </tr>\n          </thead>\n          <tbody>\n          {items.map(renderRow)}\n          </tbody>\n        </table>\n      </div>\n      <div className=\"total\">Total price, $ {total}</div>\n    </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n  items: state.bookDetails.cartItems,\n  total: state.bookDetails.orderTotal,\n  isCartEmpty: state.bookDetails.isCartEmpty,\n});\n\nconst mapDispatchToProps = () => {\n  return {\n    onPurchase: () => {\n      console.log('onPurchase');\n    }\n  }\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Cart);\n","import React  from 'react';\nimport { Cart } from '../components/Cart';\n\nexport const CartPage = () => {\n  return (\n    <Cart />\n  );\n};\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport StoreService from \"../../services/StoreService\";\nimport { Spinner } from \"../Spinner\";\nimport {\n  bookLoaded,\n  bookRequested,\n  bookAddedToCart\n} from \"../../actions\";\n\nimport './bookDetails.css';\n\nclass BookDetailsContainer extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      booksCount: 1\n    }\n  }\n\n  componentDidMount() {\n    const {\n      bookLoaded,\n      bookRequested,\n      bookId\n    } = this.props;\n\n    bookRequested();\n    StoreService.get(`/books/${bookId}`, '5686wvoxndcplla5xi8qte')\n      .then((data) => {\n        bookLoaded(data);\n      });\n  }\n\n  onCountChange = ({ target }) => {\n    this.setState({\n      booksCount: parseFloat(target.value)\n    });\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { book, bookAddedToCart } = this.props;\n    const { booksCount } = this.state;\n\n    bookAddedToCart(book.id, booksCount);\n    this.setState({\n      booksCount: 0\n    });\n  };\n\n  render() {\n    const {book, loading, maxCount, minCount, cartItems} = this.props;\n    const { booksCount } = this.state;\n\n    const cartBookIndex = cartItems.findIndex((item) => item.id === book.id);\n    const cartBook = cartItems[cartBookIndex];\n    const cartBookCount = cartBook ? cartBook.count : 0;\n\n    if (loading) {\n      return <Spinner />\n    }\n    if (book) {\n      const { title, author, level, tags, cover, description, price } = book;\n      const maxValue = maxCount - cartBookCount;\n      const isValid =  (booksCount <= maxValue || isNaN(booksCount)) ? 'is-valid' : 'is-invalid';\n      const calcTotal = (price * booksCount).toFixed(2);\n      const isTotalNumber = isNaN(booksCount) ? 0 : calcTotal;\n\n      return (\n        <main className=\"container book-page\">\n          <div className=\"book-details-wrapper\">\n            <div className=\"main-details\">\n              <img src={cover} alt=\"cover\" className=\"cart-img\"/>\n              <div className=\"book-details\">\n                <div className=\"book-title\"><b>Title: </b>{title}</div>\n                <div className=\"book-author\"><b>Author: </b>{author}</div>\n                <div className=\"book-level\"><b>Level: </b>{level}</div>\n                <div className=\"book-tags\"><b>Tags: </b>{tags}</div>\n              </div>\n            </div>\n            <div className=\"description\"><b>Description: </b>{description}</div>\n          </div>\n          <form className=\"price-wrapper\" onSubmit={this.onSubmit}>\n            <div className=\"price-counter\">\n              <div className=\"price-item\"><b>Price, $</b><b>{price}</b></div>\n              <label className=\"counter-wrapper\" htmlFor=\"count-input\">\n                <b>Count</b>\n                <div className=\"input-wrapper\">\n                  <input type=\"number\"\n                         className={`counter form-control ${isValid}`}\n                         onChange={this.onCountChange}\n                         max={maxValue}\n                         min={minCount}\n                         value={booksCount}\n                         id=\"count-input\"\n                         required />\n                  <div className=\"invalid-feedback\">We don`&apos;`t have so much!</div>\n                </div>\n              </label>\n              <div className=\"price-item\"><b>Total price</b><b>{isTotalNumber}</b></div>\n            </div>\n            <button className=\"btn btn-primary add-to-cart\"\n                    type=\"submit\">\n              Add to cart\n            </button>\n          </form>\n        </main>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    book: state.bookDetails.book,\n    maxCount: state.bookDetails.maxCount,\n    minCount: state.bookDetails.minCount,\n    cartItems: state.bookDetails.cartItems,\n    loading: state.bookDetails.loading\n  }\n};\n\nconst mapDispatchToProps = {\n  bookLoaded,\n  bookRequested,\n  bookAddedToCart\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookDetailsContainer);\n","import React from 'react';\n\nexport class ErrorBoundry extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      hasError: false\n    }\n  }\n\n  componentDidCatch() {\n    this.setState({ hasError: true })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <div>Error</div>\n    }\n\n    return this.props.children;\n  }\n}\n","const initialState = {\n  book: null,\n  bookId: null,\n  maxCount: 0,\n  minCount: 0,\n  cartItems: [],\n  orderTotal: 0,\n  isCartEmpty: true,\n  loading: true\n};\n\nconst updateCartItems = (cartItems, item, idx) => {\n  if (idx === -1) {\n    return [\n      ...cartItems,\n      item\n    ]\n  }\n  return [\n    ...cartItems.slice(0, idx),\n    item,\n    ...cartItems.slice(idx + 1)\n  ]\n};\n\nconst updateCartItem = (book, item, count) => {\n  if (item) {\n    const total = item.totalPrice + book.price * count;\n    return {\n      ...item,\n      count: item.count + count,\n      totalPrice: parseFloat((total).toFixed(2))\n    }\n  } else {\n    return {\n      ...item,\n      id: book.id,\n      count: count,\n      totalPrice: parseFloat((book.price * count).toFixed(2)),\n      title: book.title\n    };\n  }\n};\n\nexport const bookDetails = (state = initialState, action) => {\n  const {type, payload} = action;\n  switch (type) {\n    case 'FETCH_BOOK_REQUEST':\n      return {\n        ...state,\n        book: [],\n        loading: true\n      };\n    case 'FETCH_BOOK_SUCCESS':\n      return {\n        ...state,\n        book: payload,\n        maxCount: payload.count,\n        loading: false\n      };\n    case 'BOOK_ADDED_TO_CART':\n      const { book } = state;\n      const itemIndex = state.cartItems.findIndex((item) => item.id === payload.bookId);\n      const item = state.cartItems[itemIndex];\n      const newItem = updateCartItem(book, item, payload.count);\n      const newTotal = parseFloat((state.orderTotal + book.price * payload.count).toFixed(2));\n\n      return {\n        ...state,\n        isCartEmpty: false,\n        cartItems: updateCartItems(state.cartItems, newItem, itemIndex),\n        orderTotal: newTotal\n      };\n\n    default:\n      return state;\n  }\n};\n","const initialState = {\n  books: [],\n  searchText: '',\n  filterPrice: 'all',\n  loading: true\n};\n\nexport const bookList = (state = initialState, action) => {\n  const {type, payload} = action;\n  switch (type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        ...state,\n        books: [],\n        loading: true\n      };\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        ...state,\n        books: payload,\n        loading: false\n      };\n    case 'SEARCH_BOOKS':\n      return {\n        ...state,\n        searchText: payload.searchText\n      };\n    case 'FILTER_BOOKS':\n      return {\n        ...state,\n        filterPrice: payload.filterPrice\n      };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { bookDetails } from './bookDetails';\nimport { bookList } from './bookList';\n\n// const shoppingCart = (state = {\n//   cartItems: [],\n//   orderTotal: 0,\n// }, action) => {\n//   const {type, payload} = action;\n//   switch (type) {\n//     case 'BOOK_ADDED_TO_CART':\n//       console.log(state.bookList);\n//       const book = state.books.find((book) => book.id === payload.bookId);\n//       const itemIndex = state.cartItems.findIndex((item) => item.id === payload.bookId);\n//       const item = state.cartItems[itemIndex];\n//       const newItem = updateCartItem(book, item);\n//\n//       // const calcOrderPrice = state.cartItems.map((item) => {\n//       //   let order = 0;\n//       //   order += item.totalPrice;\n//       //   return order;\n//       // });\n//\n//       return {\n//         ...state,\n//         cartItems: updateCartItems(state.cartItems, newItem, itemIndex),\n//         // orderTotal: calcOrderPrice\n//       };\n//\n//     default:\n//       return state;\n//   }\n// };\n\n\n\nexport const reducer = combineReducers({\n  bookList,\n  // shoppingCart,\n  bookDetails\n});","import { createStore } from \"redux\";\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { reducer } from './reducers';\n\nexport const store = createStore(\n  reducer,\n  composeWithDevTools()\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from \"react-router-dom\";\n\nimport { App } from './components/App';\nimport { ErrorBoundry } from \"./components/ErrorBoundry\";\nimport { store } from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Header } from \"../Header\";\nimport { HomePage, CartPage } from \"../../pages\";\nimport { BookDetails } from \"../BookDetails\";\n\nimport './app.css';\n\nexport const App = () => {\n  return (\n    <div className=\"container\">\n      <Header userName={'Alex'} />\n        <Switch>\n          <Route path=\"/books\" component={HomePage} exact />\n          <Route path=\"/cart\" component={CartPage} />\n          <Route path=\"/books/:id\"\n                 render={({ match }) => {\n                   const { id } = match.params;\n                   if (id > 77) {\n                     return <div>Not Found</div>\n                   }\n                   return <BookDetails bookId={id}/>\n                 }} />\n        </Switch>\n    </div>\n  )\n};\n"],"sourceRoot":""}